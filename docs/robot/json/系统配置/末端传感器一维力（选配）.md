
## 4.10末端传感器一维力（选配）

睿尔曼机械臂末端接口板集成了一维力传感器，可获取Z方向的力，量程200N，准度0.5%FS。

![](file:////tmp/wps-mfj/ksohtml/wpslU7PTO.png)

### （1）查询末端一维力数据

| 功能描述 | 查询末端一维力数据          |
| :--- | :----------------- |
| 参数说明 | `get_Fz`：获取末端一维力数据 |
| 命令格式 | {s\:s}             |

**使用示例：**
说明：

```json
{"command":"get_Fz"}
```

**返回示例：**

```json
{"command":"get_Fz","Fz":12000,"zero_Fz":100,"work_zero_Fz":100,"tool_zero_Fz":100}
```

### （2）清零末端一维力数据

| 功能描述 | 清零末端一维力数据                                |
| :--- | :--------------------------------------- |
| 参数说明 | `clear_Fz`：清空一维力数据后，后续所有获取到的数据都是基于当前的偏置。 |
| 命令格式 | {s\:s}                                   |

**使用示例：**
说明：

```json
{"command":"clear_Fz"}
```

**返回示例：**

```json
{"command":"clear_Fz","set_state":true}设置成功
{"command":"clear_Fz","set_state":false}设置失败
```

### （3）自动标定一维力数据

| 功能描述 | 设置一维力重心参数，一维力重新安装后，必须重新计算一维力所受到的初始力和重心。分别在不同姿态下，获取一维力的数据，用于计算重心位置，该步骤对于基于一维力的力位混合控制操作具有重要意义。 |
| :--- | :------------------------------------------------------------------------------------------- |
| 参数说明 | `auto_set_Fz`：标定感器零位数据                                                                       |
| 命令格式 | {s\:s}                                                                                       |

**使用示例：**
说明：

```json
{"command":"auto_set_Fz"}
```

**返回示例：**

```json
{"command":"set_force_sensor","set_state":true}标定成功
{"command":"set_force_sensor","set_state":false}标定失败
```

### （4）手动标定一维力数据

| 功能描述 | 设置一维力重心参数，一维力重新安装后，必须重新计算一维力所受到的初始力和重心。该手动标定流程，适用于空间狭窄工作区域，以防自动标定过程中机械臂发生碰撞，用户可以手动选取2个位姿下发，当下发完后，机械臂开始自动沿用户设置的目标运动，并在此过程中计算一维力重心。 |
| :--- | :-------------------------------------------------------------------------------------------------------------------------------- |
| 参数说明 | `manual_set_Fz`：标定感器零位数据                                                                                                          |
| 命令格式 | 六自由度：{s\:s,s:\[i,i,i,i,i,i] ,s:\[i,i,i,i,i,i]}                                                                                    |

**使用示例：**
说明：

```json
六自由度：
{"command":"manual_set_Fz", "pose1":[0, 0, 0, 0, 0, 0], "pose2":[0, 0, 90000, 0, 90000, 0]}
七自由度：
{"command":"manual_set_Fz", "pose1":[0, 0, 0, 0, 0, 0], "pose2":[0, 0, 90000, 0, 0, 90000, 0]}
```

**返回示例：**

```json
{"command":"set_force_sensor","set_state":true}标定成功
{"command":"set_force_sensor","set_state":false}标定失败
```

### （5）停止标定力传感器重心

| 功能描述 | 在标定力传感器过程中，如果发生意外，发送该指令，停止机械臂运动，退出标定流程 |
| :--- | :------------------------------------- |
| 参数说明 | `stop_set_force_sensor`：停止计算力传感器重心位置   |
| 命令格式 | {s\:s}                                 |

**使用示例：**
说明：

```json
{"command":"stop_set_force_sensor"}
```

**返回示例：**

```json
{"command":"stop_set_force_sensor","stop_state":true}计算成功
{"command":"stop_set_force_sensor","stop_state":false}计算失败
```
