# 运动配置

## 轨迹指令类

### 关节运动`movej`

**参数说明：**

| 参数                 | 类型     | 说明                                                                                                              |
| :------------------- | :------- | :---------------------------------------------------------------------------------------------------------------- |
| `movej`              | `string` | 关节运动指令。                                                                                                    |
| `joint`              | `int`    | 目标关节角度，精度 0.001°。                                                                                       |
| `v`                  | `int`    | 速度百分比例系数，0~100。                                                                                         |
| `r`                  | `int`    | 交融半径百分比系数，0-100。                                                                     |
| `trajectory_connect` | `int`    | 可选参数，代表是否和下一条运动一起规划，0 代表立即规划，1 代表和下一条轨迹一起规划，当为 1 时，轨迹不会立即执行。 |

**使用示例：**
实现：关节运动，参数如下：

    六自由度关节角度：[10.1°,0.2°,20.3°,30.4°,0.5°,20.6°]；
    七自由度关节角度：[10.1°,0.2°,20.3°,30.4°,0.5°,20.6°,20.6°]；
    速度系数50%；
    交融半径：0。

```json
//六自由度：
{
    "command":"movej",
    "joint":[10100,200,20300,30400,500,20600],
    "v":50,
    "r":0,
    "trajectory_connect":0
}
//七自由度：
{
    "command":"movej",
    "joint":[10100,200,20300,30400,500,20600,20600],
    "v":50,
    "r":0,
    "trajectory_connect":0
}
```

**返回示例：**

```json
{"command":"movej","receive_state":true}
{"state":"current_trajectory_state","trajectory_state":true,"device":0,"trajectory_connect":1}
```

> trajectory_connect：代表是否连接下一条轨迹，0 代表全部到位，1 代表连接下一条轨迹。

**参数说明：**
| 参数 | 类型 | 说明 |
| :-------------- | :----- | :------------------------------------ |
| `receive_state` | `bool` | `ture`：设置成功；`false`：设置失败。 |

### 直线运动`movel`

**参数说明：**

| 参数                 | 类型     | 说明                                                                                                              |
| :------------------- | :------- | :---------------------------------------------------------------------------------------------------------------- |
| `movel`              | `string` | 直线运动执行。                                                                                                    |
| `pose`               | `int`    | 目标位姿，位置精度：0.001mm，姿态精度：0.001rad。                                                                 |
| `v`                  | `int`    | 速度百分比例系数，0~100。                                                                                         |
| `r`                  | `int`    | 交融半径百分比系数，0-100。                                                                     |
| `trajectory_connect` | `int`    | 可选参数，代表是否和下一条运动一起规划，0 代表立即规划，1 代表和下一条轨迹一起规划，当为 1 时，轨迹不会立即执行。 |

> 注意：MOVL 指令也适用于目标位置不变，姿态变化。

**使用示例：**
实现：直线运动，参数如下：

    目标位置：x：0.1m，y：0.2m，z：0.03m
    目标姿态：rx：0.4rad，ry：0.5rad，rz：0.6rad
    速度系数：50%
    交融半径：不交融。

```json
//六自由度：
{
  "command": "movel",
  "pose": [100000, 200000, 30000, 400, 500, 600],
  "v": 50,
  "r": 0,
  "trajectory_connect": 0
}
```

**返回示例：**

```json
{"command":"movel","receive_state":true}
//运动到位：
{"state":"current_trajectory_state","trajectory_state":true,"device":0,"trajectory_connect":1}
```

> trajectory_connect：代表是否连接下一条轨迹，0 代表全部到位，1 代表连接下一条轨迹。

**参数说明：**
| 参数 | 类型 | 说明 |
| :-------------- | :----- | :------------------------------------ |
| `receive_state` | `bool` | `ture`：设置成功；`false`：设置失败。 |

### 圆弧运动`movel`

**参数说明：**

| 参数                 | 类型     | 说明                                                                                                              |
| :------------------- | :------- | :---------------------------------------------------------------------------------------------------------------- |
| `movel`              | `string` | 直线运动指令。                                                                                                    |
| `pose`               | `int`    | 目标位姿，位置精度：0.001mm，姿态精度：0.001rad。                                                                 |
| `v`                  | `int`    | 速度百分比例系数，0~100                                                                                           |
| `r`                  | `int`    | 交融半径百分比系数，0-100                                                                       |
| `trajectory_connect` | `int`    | 可选参数，代表是否和下一条运动一起规划，0 代表立即规划，1 代表和下一条轨迹一起规划，当为 1 时，轨迹不会立即执行。 |

**使用示例：**
实现：圆弧运动，参数如下：

    中间点位置：x：0.1m，y：0.2m，z：0.03m；
    中间点姿态：rx：0.4rad，ry：0.5rad，rz：0.6rad；
    终点位置：x：0.2m，y：0.3m，z：0.03m；
    终点姿态：rx：0.4rad，ry：0.5rad，rz：0.6rad；
    速度系数：50%；
    交融半径：不交融。

```json
{
    "command":"movec",
    "pose":{
        "pose_via":[100000,200000,30000,400,500,600],
        "pose_to":[200000,300000,30000,400,500,600],
    }
    "v":50,
    "r":0,
    "loop":0,
    "trajectory_connect":0
}
```

**返回示例：**

```json
{"command":"movec","receive_state":true}
//运动到位：
{"state":"current_trajectory_state","trajectory_state":true,"device":0,"trajectory_connect":1}
```

> //trajectory_connect：代表是否连接下一条轨迹，0 代表全部到位，1 代表连接下一条轨迹。

**参数说明：**

| 参数            | 类型   | 说明                                  |
| :-------------- | :----- | :------------------------------------ |
| `receive_state` | `bool` | `ture`：设置成功；`false`：设置失败。 |

### 角度透传`movep_canfd`

角度通过 CANFD 透传给机械臂，不通过控制器规划。

**参数说明：**

| 参数          | 类型     | 说明                                                                                             |
| :------------ | :------- | :----------------------------------------------------------------------------------------------- |
| `movep_canfd` | `string` | 角度透传到 CANFD，若指令正确，机械臂立即执行。                                                   |
| `joint`       | `int`    | 关节角度，精度 0.001°。                                                                          |
| `follow`      | `bool`   | 表示驱动器的运动跟随效果，true 为高跟随，false 为低跟随。若使用高跟随，透传周期要求不超过 10ms。 |
| `expand`      | `int`    | 为下发可选字段，如果存在通用扩展轴，并需要进行透传，可使用此字段进行透传发送。                   |

> 备注： 1.透传效果和周期、轨迹是否平滑有关，周期要求稳定，防止出现较大波动，基础系列 WIFI 和网口模式透传周期最快 20ms，USB 和 RS485 模式透传周期最快 10ms。高速网口的透传周期最快也可到 10ms，不过在使用该高速网口前，需要使用指令打开配置。另外 I 系列有线网口周期最快可达 2ms。
>
> 2.用户使用该指令时请做好轨迹规划，轨迹规划的平滑程度决定了机械臂的运行状态，帧与帧之间关节的角度最大不能超过 10°，并保证关节规划的速度不要超过 180°/s，否则关节会不响应。

**使用示例：**
实现：目标角度透传到机械臂 CANFD，参数如下：

    六自由度机械臂目标关节角度：[1°,0°,20°,30°,0°,20°]；
    七自由度机械臂目标关节角度：[1°,0°,20°,30°,0°,20°,20°]。

```json
//六自由度
{"command":"movej_canfd","joint":[1000,0,20000,30000,0,20000],"follow":true,"expand":1000}
//七自由度
{"command":"movej_canfd","joint":[1000,0,20000,30000,0,20000,20000],"follow":true,"expand":1000}
```

**返回示例：**

```json
//六自由度：
{"state":"joint_state","joint":[10,20,30,40,50,60], "arm_err":0}
//七自由度：
{"state":"joint_state","joint":[10,20,30,40,50,60,70], "arm_err":0}
```

**参数说明：**
| 参数 | 类型 | 说明 |
| :-------- | :------- | :--------- |
| `arm_err` | `number` | 状态码。若为 0，则代表系统正常，指令正常运行；若为其他错误，则反馈相应错误代码，指令不执行 |

### 位姿透传`movej_canfd`

目标位姿透传给机械臂 CANFD，不通过控制器规划。目标位姿为当前工具在当前工作和工具坐标系下的数值。

**参数说明：**

| 参数          | 类型     | 说明                                                                                             |
| :------------ | :------- | :----------------------------------------------------------------------------------------------- |
| `movej_canfd` | `string` | 角度透传到 CANFD，若指令正确，机械臂立即执行 joint：关节角度，精度 0.001°。                      |
| `pose`        | `int`    | 目标位姿。位置精度：0.001mm，姿态精度：0.001rad。                                                |
| `follow`      | `bool`   | 表示驱动器的运动跟随效果，true 为高跟随，false 为低跟随。若使用高跟随，透传周期要求不超过 10ms。 |

> 注意：透传效果和周期、轨迹是否平滑有关，周期要求稳定，防止出现较大波动，基础系列 WIFI 和网口模式透传周期最快 20ms，USB 和 RS485 模式透传周期最快 10ms。高速网口的透传周期最快也可到 10ms，不过在使用该高速网口前，需要使用指令打开配置。另外 I 系列有线网口周期最快可达 2ms。
>
> 用户使用该指令时请做好轨迹规划，轨迹规划的平滑程度决定了机械臂的运行状态，帧与帧之间关节的角度最大不能超过 10°，并保证关节规划的速度不要超过 180°/s，否则关节会不响应。

**使用示例：**
实现：目标位姿透传，参数如下：

    目标位置：x：0.1m，y:0.2m，z：0.03m；
    目标姿态（欧拉角）：rx：0.4rad，ry：0.5rad，rz：0.6rad；
    目标姿态（四元数）：w：0.4，x：0.5，y：0.6，z：0.7。

**使用示例：**

```json
//位姿透传欧拉角方式
{"command":"movep_canfd","pose":[100000,200000,30000,400,500,600],"follow":true}
//位姿透传四元数方式
{"command":"movep_canfd","pose_quat":[100000,200000,30000,400000,500000,600000,700000],"follow":true}
```

**返回示例：**

```json
//六自由度：
{"state":"pose_state","pose":[10,20,30,40,50,60],"joint":[10,20,30,40,50,60], "arm_err":0}
//七自由度：
{"state":"pose_state","pose":[10,20,30,40,50,60],"joint":[10,20,30,40,50,60,70], "arm_err":0}
//pose：当前位姿，位置精度：0.001mm，姿态精度：0.001rad；joint：当前关节角度，关节精度：0.001°；arm_err：
```

| 参数      | 类型     | 说明                                                                                         |
| :-------- | :------- | :------------------------------------------------------------------------------------------- |
| `pose`    | `array`  | 当前位姿，位置精度：0.001mm，姿态精度：0.001rad。                                            |
| `joint`   | `array`  | 当前关节角度，关节精度：0.001°。                                                             |
| `arm_err` | `number` | 状态码。若为 0，则代表系统正常，指令正常运行；若为其他错误，则反馈相应错误代码，指令不执行。 |

> 需要注意的是 I 系列机械臂不再提供返回值，通过 UDP 状态主动上报接口采集机械臂实时状态。

### 关节空间规划到目标位姿`movej_p`

通过关节空间规划运动到目标位姿。

**参数说明：**

| 参数                 | 类型     | 说明                                                                                                              |
| :------------------- | :------- | :---------------------------------------------------------------------------------------------------------------- |
| `movej_p`            | `string` | 关节空间规划到目标位姿指令。                                                                                      |
| `pose`               | `int`    | 目标位姿，位置精度：0.001mm，姿态精度：0.001rad。                                                                 |
| `v`                  | `int`    | 速度百分比系数，1~100。 |
| `r`                  | `int`    | 交融半径百分比系数，0~100。|
| `trajectory_connect` | `int`    | 可选参数，代表是否和下一条运动一起规划，0 代表立即规划，1 代表和下一条轨迹一起规划，当为 1 时，轨迹不会立即执行。 |

**使用示例：**
实现：直线运动，运动参数如下：

    目标位置：x：0.1m，y：0.2m，z：0.03m；
    目标姿态：rx：0.4rad，ry：0.5rad，rz：0.6rad；
    速度系数：50%；
    交融半径：不交融。

```json
{
  "command": "movej_p",
  "pose": [100000, 200000, 30000, 400, 500, 600],
  "v": 50,
  "r": 0,
  "trajectory_connect": 0
}
```

**返回示例：**

```json
//返回指令接收状态：
{"command":"movej_p","receive_state":true}
//运动到位：
{"state":"current_trajectory_state","trajectory_state":true,"device":0,"trajectory_connect":1}
//trajectory_connect：代表是否连接下一条轨迹，0代表全部到位，1代表连接下一条轨迹
```

| 参数            | 类型   | 说明                                  |
| :-------------- | :----- | :------------------------------------ |
| `receive_state` | `bool` | `ture`：设置成功；`false`：设置失败。 |

### 样条曲线运动`moves`

样条曲线运动是一种通过控制点（也称为节点或关键点）定义的平滑曲线运动轨迹。为了实现样条曲线运动，需要至少三个不同的型值点才能完成控制点反算，连续使用 moves 指令来输入这些型值点。

**参数说明：**

| 参数                 | 类型     | 说明                                                                                                              |
| :------------------- | :------- | :---------------------------------------------------------------------------------------------------------------- |
| `moves`              | `string` | 样条曲线运动指令。                                                                                                |
| `pose`               | `int`    | 目标位姿，位置精度：0.001mm，姿态精度：0.001rad。                                                                 |
| `v`                  | `int`    | 速度百分比例系数，0~100。                                                                                         |
| `r`                  | `int`    | 交融半径百分比系数，0-100。                                                                     |
| `trajectory_connect` | `int`    | 可选参数，代表是否和下一条运动一起规划，0 代表立即规划，1 代表和下一条轨迹一起规划，当为 1 时，轨迹不会立即执行。 |

**使用示例：**
实现：发三个点实现一条样条曲线运动，参数如下：

    目标位置：
    x：0.1m，y：0.2m，z：0.03m；
    x：0.1m，y：0.3m，z：0.03m；
    x：0.1m，y：0.4m，z：0.03m；
    目标姿态：rx：0.4rad，ry：0.5rad，rz：0.6rad；
    速度系数：50%；
    交融半径：不交融。

```json
{"command":"moves","pose":[100000,200000,30000,400,500,600],"v":50,"r":0,"trajectory_connect":1}
{"command":"moves","pose":[100000,300000,30000,400,500,600],"v":50,"r":0,"trajectory_connect":1}
{"command":"moves","pose":[100000,400000,30000,400,500,600],"v":50,"r":0,"trajectory_connect":0}
```

**返回示例：**

```json
//返回指令接收状态：
{"command":"moves","receive_state":true}
//运动到位：
{"state":"current_trajectory_state","trajectory_state":true,"device":0,"trajectory_connect":1}
```

> trajectory_connect：代表是否连接下一条轨迹，0 代表全部到位，1 代表连接下一条轨迹。

**参数说明：**
| 参数 | 类型 | 说明 |
| :-------------- | :----- | :------------------------------------ |
| `receive_state` | `bool` | `ture`：设置成功；`false`：设置失败。 |

## 步进指令类

### 关节步进`set_joint_step`

控制机械臂某个关节的步进运动。
**参数说明：**

| 参数             | 类型     | 说明                                                        |
| :--------------- | :------- | :---------------------------------------------------------- |
| `set_joint_step` | `string` | 关节步进指令。                                              |
| `joint_step`     | `int`    | （1）步进关节号；（2）关节步进角度，单位：°，精度：0.001°。 |
| `v`              | `int`    | 速度百分比例系数，0~10。                                    |

**使用示例：**
实现：关节步进，关节 1 反方向步进 10 度，速度系数 30%。

```json
{ "command": "set_joint_step", "joint_step": [1, -10000], "v": 30 }
```

**返回示例：**
指令接收成功，运动到位后连接吓一条轨迹。

```json
{"command":"set_joint_step","receive_state":true}
{"state":"current_trajectory_state","trajectory_state":true,"device":0,"trajectory_connect":1}
```

**参数说明：**
| 参数 | 类型 | 说明 |
| :-------------- | :----- | :------------------------------------ |
| `receive_state` | `bool` | `ture`：设置成功；`false`：设置失败。 |
| `trajectory_connect` | `num` | 代表是否连接下一条轨迹，0 代表全部到位，1 代表连接下一条轨迹。 |

### 位置步进`set_pos_step`

控制机械臂沿 x、y、z 轴方向直线步进运动。
**参数说明：**

| 参数           | 类型     | 说明                                                                   |
| :------------- | :------- | :--------------------------------------------------------------------- |
| `set_pos_step` | `string` | 位置步进指令。                                                         |
| `step_type`    | `string` | 步进类型，x_step 为 X 轴方向，y_step 为 Y 轴方向，z_step 为 Z 轴方向。 |
| `v`            | `int`    | 速度百分比例系数，0~100。                                              |
| `step`         | `int`    | 步进距离单位：m，精度：0.001mm，即 0.000001m。                         |

**使用示例：**
实现：位置步进，x 轴负方向步进 0.5m，速度 30%。

```json
{ "command": "set_pos_step", "step_type": "x_step", "step": -500000, "v": 30 }
```

**返回示例：**
指令接收成功，运动到位后连接吓一条轨迹。

```json
{"command":"set_pos_step","receive_state":true}
{"state":"current_trajectory_state","trajectory_state":true,"device":0,"trajectory_connect":1}
```

| 参数                 | 类型   | 说明                                                           |
| :------------------- | :----- | :------------------------------------------------------------- |
| `receive_state`      | `bool` | `ture`：设置成功；`false`：设置失败。                          |
| `trajectory_connect` | `num`  | 代表是否连接下一条轨迹，0 代表全部到位，1 代表连接下一条轨迹。 |

### 姿态步进`set_ort_step`

控制机械臂沿 x、y、z 轴方向旋转步进运动。
**参数说明：**

| 参数           | 类型     | 说明                                                                       |
| :------------- | :------- | :------------------------------------------------------------------------- |
| `set_ort_step` | `string` | 姿态步进指令。                                                             |
| `step_type`    | `string` | 步进方向，rx_step：绕 X 轴旋转，ry_step：绕 Y 旋转，rz_step：绕 Z 轴旋转。 |
| `v`            | `int`    | 速度百分比例系数，0~100。                                                  |
| `step`         | `int`    | 步进弧度，单位：rad，精度 0.001rad。                                       |

**使用示例：**
实现：姿态步进，x 轴负方向旋转 0.5rad，速度 30%。

```json
{ "command": "set_ort_step", "step_type": "rx_step", "step": -500, "v": 30 }
```

**返回示例：**
指令接收成功，运动到位后连接吓一条轨迹。

```json
{"command":"set_ort_step","receive_state":true}
{"state":"current_trajectory_state","trajectory_state":true,"device":0,"trajectory_connect":1}
```

**参数说明：**
| 参数 | 类型 | 说明 |
| :-------------- | :----- | :------------------------------------ |
| `receive_state` | `bool` | `ture`：设置成功；`false`：设置失败。 |
| `trajectory_connect` | `num` | 代表是否连接下一条轨迹，0 代表全部到位，1 代表连接下一条轨迹。 |

## 运动指令类

### 轨迹急停`set_arm_stop`

轨迹急停。

**参数说明：**

| 参数           | 类型     | 说明           |
| :------------- | :------- | :------------- |
| `set_arm_stop` | `string` | 姿态步进指令。 |

**使用示例：**
实现：轨迹急停。

```json
{ "command": "set_arm_stop" }
```

**返回示例：**

```json
{ "command": "set_arm_stop", "arm_stop": true }
```

**参数说明：**
| 参数 | 类型 | 说明 |
| :--------- | :----- | :------------------------------------ |
| `arm_stop` | `bool` | `ture`：设置成功；`false`：设置失败。 |

### 轨迹缓停`set_arm_slow_stop`

在当前正在运行的轨迹上停止。

**参数说明：**

| 参数                | 类型     | 说明           |
| :------------------ | :------- | :------------- |
| `set_arm_slow_stop` | `string` | 轨迹缓停指令。 |

**使用示例：**
实现：轨迹缓停。

```json
{ "command": "set_arm_slow_stop" }
```

**返回示例：**

```json
{ "command": "set_arm_slow_stop", "arm_slow_stop": true }
```

**参数说明：**
| 参数 | 类型 | 说明 |
| :-------------- | :----- | :------------------------------------ |
| `arm_slow_stop` | `bool` | `ture`：设置成功；`false`：设置失败。 |

### 轨迹暂停`set_arm_pause`

停在轨迹上，轨迹可恢复。

**参数说明：**

| 参数            | 类型     | 说明           |
| :-------------- | :------- | :------------- |
| `set_arm_pause` | `string` | 轨迹暂停指令。 |

**使用示例：**
实现：轨迹暂停。

```json
{ "command": "set_arm_pause" }
```

**返回示例：**

```json
{ "command": "set_arm_pause", "arm_pause": true }
```

**参数说明：**
| 参数 | 类型 | 说明 |
| :---------- | :----- | :------------------------------------ |
| `arm_pause` | `bool` | `ture`：设置成功；`false`：设置失败。 |

### 轨迹暂停后恢复`set_arm_continue`

**参数说明：**

| 参数               | 类型     | 说明                 |
| :----------------- | :------- | :------------------- |
| `set_arm_continue` | `string` | 轨迹暂停后恢复指令。 |

**使用示例：**
实现：轨迹暂停后恢复。

```json
{ "command": "set_arm_continue" }
```

**返回示例：**

```json
{ "command": "set_arm_continue", "arm_continue": true }
```

**参数说明：**
| 参数 | 类型 | 说明 |
| :------------- | :----- | :------------------------------------ |
| `arm_continue` | `bool` | `ture`：设置成功；`false`：设置失败。 |

### 清除当前轨迹`set_delete_current_trajectory`

清除当前轨迹，必须在暂停后使用！

**参数说明：**

| 参数                            | 类型     | 说明               |
| :------------------------------ | :------- | :----------------- |
| `set_delete_current_trajectory` | `string` | 清除当前轨迹指令。 |

**使用示例：**
实现：清除当前轨迹。

```json
{ "command": "set_delete_current_trajectory" }
```

**返回示例：**

```json
{
  "command": "set_delete_current_trajectory",
  "delete_current_trajectory": true
}
```

**参数说明：**
| 参数 | 类型 | 说明 |
| :-------------------------- | :----- | :------------------------------------ |
| `delete_current_trajectory` | `bool` | `ture`：设置成功；`false`：设置失败。 |

### 清除所有轨迹`set_arm_delete_trajectory`

清除所有轨迹，必须在暂停后使用！

**参数说明：**

| 参数                            | 类型     | 说明               |
| :------------------------------ | :------- | :----------------- |
| `set_arm_delete_trajectory` | `string` | 清除所有轨迹指令。 |

**使用示例：**
实现：清除所有轨迹。

```json
{ "command": "set_arm_delete_trajectory" }
```

**返回示例：**

```json
{ "command": "set_arm_delete_trajectory", "arm_delete_trajectory": true }
```

**参数说明：**
| 参数 | 类型 | 说明 |
| :---------------------- | :----- | :------------------------------------ |
| `arm_delete_trajectory` | `bool` | `ture`：设置成功；`false`：设置失败。 |

### 查询当前规划类型`get_arm_current_trajectory`

**参数说明：**

| 参数                         | 类型     | 说明                   |
| :--------------------------- | :------- | :--------------------- |
| `get_arm_current_trajectory` | `string` | 查询当前规划类型指令。 |

**使用示例：**
实现：查询当前规划类型。

```json
{ "command": "get_arm_current_trajectory" }
```

**返回示例：**

当前正在运行关节规划，数组内为当前关节角度，精度 0.001°

```json
//六自由度：
{"state":"arm_current_trajectory","type":"movej","data":
[0,0,0,0,0,0]}
//七自由度：
{"state":"arm_current_trajectory","type":"movej","data":
[0,0,0,0,0,0,0]}
```

当前正在运行直线规划，数组内为当前末端位姿，位置精度：0.001mm，姿态精度：0.001rad。

```json
{
  "state": "arm_current_trajectory",
  "type": "movel",
  "data": [0, 0, 0, 0, 0, 0]
}
```

当前正在运行圆弧规划，数组内为当前末端位姿，位置精度：0.001mm，姿态精度：0.001rad。

```json
{
  "state": "arm_current_trajectory",
  "type": "movec",
  "data": [0, 0, 0, 0, 0, 0]
}
```

当前无规划，数组内为当前关节角度，精度 0.001°。

```json
//六自由度：
{"state":"arm_current_trajectory","type":"movej","data":[0,0,0,0,0,0]}
//七自由度：
{"state":"arm_current_trajectory","type":"movej","data":[0,0,0,0,0,0,0]}
```

**参数说明：**

| 参数                     | 类型     | 说明                     |
| :----------------------- | :------- | :----------------------- |
| `arm_current_trajectory` | `string` | 返回当前正在运行的轨迹。 |

## 示教指令类

### 关节示教`set_joint_teach`

**参数说明：**

| 参数                            | 类型     | 说明                                 |
| :------------------------------ | :------- | :----------------------------------- |
| `set_joint_teach` | `string` | 关节示教指令。                       |
| `teach_joint`                   | `int`    | 关节序号。                           |
| `direction`                     | `string` | 方向，“pos”：正方向，“neg”：反方向。 |
| `v`                             | `int`    | 速度系数                             |

**使用示例：**
实现：关节 1 示教，正方向，速度 50%。

```json
{ "command": "set_joint_teach", "teach_joint": 1, "direction": "pos", "v": 50 }
```

**返回示例：**

```json
{ "command": "set_joint_teach", "joint_teach": true }
```

**参数说明：**
| 参数 | 类型 | 说明 |
| :------------ | :----- | :------------------------------------ |
| `joint_teach` | `bool` | `ture`：设置成功；`false`：设置失败。 |

### 位置示教`set_pos_teach`

**参数说明：**

| 参数            | 类型     | 说明                                 |
| :-------------- | :------- | :----------------------------------- |
| `set_pos_teach` | `string` | 位置示教指令。                       |
| `teach_type`    | `string` | 坐标轴，“x”，“y”，“z”。              |
| `direction`     | `string` | 方向，“pos”：正方向，“neg”：反方向。 |
| `v`             | `int`    | 速度系数                             |

**使用示例：**
实现：位置示教，x 轴负方向，速度 50%。

```json
{ "command": "set_pos_teach", "teach_type": "x", "direction": "neg", "v": 50 }
```

**返回示例：**

```json
{ "command": "set_pos_teach", "pos_teach": true }
```

**参数说明：**
| 参数 | 类型 | 说明 |
| :---------- | :----- | :------------------------------------ |
| `pos_teach` | `bool` | `ture`：设置成功；`false`：设置失败。 |

### 姿态示教`set_ort_teach`

**参数说明：**

| 参数            | 类型     | 说明                                 |
| :-------------- | :------- | :----------------------------------- |
| `set_ort_teach` | `string` | 姿态示教指令。                       |
| `teach_type`    | `string` | 旋转所绕坐标轴，”rx”，“ry”，“rz”。   |
| `direction`     | `string` | 方向，“pos”：正方向，“neg”：反方向。 |
| `v`             | `int`    | 速度系数                             |

**使用示例：**
实现：姿态示教，rx 轴负方向，速度 50%。

```json
{ "command": "set_ort_teach", "teach_type": "rx", "direction": "neg", "v": 50 }
```

**返回示例：**

```json
{ "command": "set_ort_teach", "ort_teach": true }
```

**参数说明：**
| 参数 | 类型 | 说明 |
| :---------- | :----- | :------------------------------------ |
| `ort_teach` | `bool` | `ture`：设置成功；`false`：设置失败。 |

### 示教停止`set_stop_teach`

**参数说明：**

| 参数             | 类型     | 说明           |
| :--------------- | :------- | :------------- |
| `set_stop_teach` | `string` | 示教停止指令。 |

**使用示例：**
实现：示教停止。

```json
{ "command": "set_stop_teach" }
```

**返回示例：**

```json
{ "command": "set_stop_teach", "stop_teach": true }
```

**参数说明：**
| 参数 | 类型 | 说明 |
| :----------- | :----- | :------------------------------------ |
| `stop_teach` | `bool` | `ture`：设置成功；`false`：设置失败。 |

### 设置示教参考坐标系`set_teach_frame`

**参数说明：**

| 参数              | 类型     | 说明                                 |
| :---------------- | :------- | :----------------------------------- |
| `set_teach_frame` | `string` | 设置示教参考坐标系指令。             |
| `frame_type`      | `number` | 0 代表工作坐标系，1 代表工具坐标系。 |

**使用示例：**
实现：设置示教参考坐标系为工作坐标系。

```json
{ "command": "set_teach_frame", "frame_type": 0 }
```

**返回示例：**

```json
{ "command": "set_teach_frame", "set_state": true }
```

**参数说明：**
| 参数 | 类型 | 说明 |
| :---------- | :----- | :------------------------------------ |
| `set_state` | `bool` | `ture`：设置成功；`false`：设置失败。 |

### 获取示教参考坐标系`get_teach_frame`

**参数说明：**

| 参数              | 类型     | 说明                     |
| :---------------- | :------- | :----------------------- |
| `get_teach_frame` | `string` | 获取示教参考坐标系指令。 |

**使用示例：**
实现：获取示教参考坐标系。

```json
{ "command": "get_teach_frame" }
```

**返回示例：**

```json
{ "command": "get_teach_frame", "frame_type": 0 }
```

**参数说明：**
| 参数 | 类型 | 说明 |
| :----------- | :------- | :--------------------------------- |
| `frame_type` | `number` | 0 代表工作坐标系，1 代表工具坐标系。 |

## 轨迹反馈集

### 当前轨迹结束返回标志`current_trajectory_state`

**参数说明：**

| 参数                       | 类型     | 说明                                                                |
| :------------------------- | :------- | :------------------------------------------------------------------ |
| `current_trajectory_state` | `string` | 当前轨迹结束返回标志。                                              |
| `device`                   | `int`    | 0：关节、1：夹爪、2：灵巧手、3：升降机构、4：扩展关节、其他：保留。 |

**示例：**
实现：当前轨迹到达目标。

```json
{ "state": "current_trajectory_state", "trajectory_state": true, "device": 0 }
```
