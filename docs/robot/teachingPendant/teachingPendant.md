# <p class="hidden">入门指南：</p>示教器使用说明

**7.机器人接线与开关机**

**7.1 开机前准备**

例：从包装箱中取出RM65机器人，安装到底座。（具体安装说明请参见第6节机器人安装）。

1.  确保机器人和电缆不接触液体，从包装箱中取出RM65机器人的DC24V

电缆。

1.  准备一个DC24V的供电电源（电源电压范围可选20\~27V，极限可以

达到30V，建议使用600W以上，且具有打嗝模式、恒流输出1S功能的开关电源）。

1.  机器人不得暴露在灰尘或超出IP54等级的潮湿环境下。密切注意存在

传导性灰尘的环境里。

1.  连接机器人线缆。若无外部设备，只需要连接电源线即可。

    ![](7814f510eadc0f2d97582107b0b85882.png)

    **图7-2 硬件连接图**

![](57ca26dba37124ca61d564b1196044c4.png)

**图7-1 机器人控制器电源接口**

**  
**

**7.2 机器人开机**

-   检查电源线与电源插头是否连接好。

    -   检查控制器电源开关在未接通时处于关闭状态。

    -   确保机器人不会碰到周围人员或设备。确保电源线已连接24V直流电源。

    -   按下电源开关，①电源开关背景灯变为蓝色，说明机械臂上电。②同时机器人控制器右上角指示灯变为蓝色，说明控制器正在启动，③控制器指示灯变为白色，说明机器人关节等正在进行初始化工作。④控制器指示灯变为绿色，说明机器人启动完成，可正常开始工作。此过程用时大约50s左右。

![](a1ce74d169bb9585fa13db800d652807.png)

**图7-2 机器人控制器电源开关**

**7.3 机器人关机**

1.  按下电源开关，使其处于弹起关闭状态；

    1.  关闭机器人24V直流供电电源。

**8.机器人在线编程**

**8.1 简介**

机械臂示教器web端任意浏览器登陆（推荐使用谷歌浏览器最新版本：<https://www.google.cn/chrome/next-steps.html?statcb=1&installdataindex=empty&defaultbrowser=0>），通过此人机交互界面，可以操作机器人本体和控制器，执行和创建机器人程序、读取机器人信息。

可根据使用场景，选择不同的示教器载体，示教器支持全平台使用，如安卓平板、Windows系统的平板或电脑、苹果系统的平板或电脑、Linux系统的电脑。示教器载体与机械臂连接可选择有线或无线两种方式（连接方法见8.4.1），在电脑端使用示教器：

无线连接默认WIFI名称格式如下图所示，密码默认为12345678。

![](8e65c0194cafc3641009977435b824f1.png)

**图8-1**

（1）打开浏览器，若使用有线连接，则网址输入192.168.1.18进入登录页；若使用无线的AP模式连接，则网址输入192.168.33.80。如下所示

![](19e2e13cddcb5caa90b9eb8ddcfd73ac.png)

**有线连接**

![](0f28a8a294e107fc42f152ba7be68831.png)

**无线连接**

**图8-2 输入网址**

![](9af94909b04420268f5f285fa4227fe8.png)

**图8-3 示教器登录页**

1.  输入账号：user，密码：123，点击登录即可进入机器人控制界面。

![](eed240b3c1769f3f3f20aac784531529.png)

**图8-4 用户名及密码**

![](6b54454b9dff564eb78516672c7c30eb.png)

**图8-5 网页标题及网址**

**  
**

## 8.2 机械臂示教

示教器软件面板用于机器人示教操作，用户通过点击面板上的图标来移动机器人。同时面板也会把机器人的运动信息反馈给用户。

![示教界面标号](0d3dcd4f0dbc4ede3110ecaa58b452ed.jpeg)

**图8-6 机器人示教面板**

**表6 机器人示教面板各功能区域名称**

| 序号 | 名称             |
|------|------------------|
| 1    | 菜单栏选项       |
| 2    | 工作模式选择     |
| 3    | 工作坐标系选择   |
| 4    | 工具坐标系选择   |
| 5    | 机械臂状态显示   |
| 6    | 网络连接状态显示 |
| 7    | 速度百分比显示   |
| 8    | 机器人急停按钮   |
| 9    | 全屏按钮         |
| 10   | 机器人电源开关   |
| 11   | 中英文切换       |
| 12   | 退出登录         |
| 13   | 关节示教         |
| 14   | 位置示教         |
| 15   | 姿态示教         |
| 16   | 步进模式设置     |
| 17   | 位姿编辑         |
| 18   | 拖动示教轨迹编辑 |
| 19   | 运动坐标系选择   |
| 20   | 绘制、清除轨迹   |
| 21   | 一键回位按钮     |
| 22   | 零位姿态按钮     |
| 23   | 初始姿态按钮     |
| 24   | 当前位姿、坐标系 |
| 25   | 3D仿真模型       |

下面将按照表6的顺序，依次对各区域/按键进行说明：

**8.2.1 菜单栏选项**

点击菜单栏的选项名称可以切换到对应名称面板，方便用户操作。选中的面板呈现蓝色背景。

![](8d2429d01c7dffffcc3e061d7cd0f861.png)

**图8-7 菜单栏选项**

**8.2.2 工作模式选择**

黄色图标代表选择真实模式，此时程序在真实机器人上运行，机器人会按照指令来运动，界面会显示机器人参数及机械臂运动状态图像。

灰色图标代表选择仿真模式，此时真实机器人不运动，只移动3D仿真模型。完成一个机器人程序，可先选择仿真模式，通过仿真模式来验证程序是否可行，以提高机器人应用的安全性以及规划轨迹是否可达。

![Group 405](0c8fad795239eea25cfaddb6c452ed00.png)![Group 311](6f6fd9c560a67a9c08b7ae70e7522139.png)

**图8-8工作模式选择**

**8.2.3 工作坐标系选择**

用户可以选择工作坐标系对机器人运动状态进行控制。在示教器界面选择基坐标系（Base）控制机器人，机器人将会以如图8-8所示的坐标系方向进行移动。用户也可以根据实际项目需求，创建自己所需的工作坐标系作为机器人移动的参考方向，假设work1为用户自己设定的工作坐标系（设定机器人工作坐标系的方法见8.4.2.3），设定完成后可进行工作坐标系切换，如图8-9所示。

![](b1f7b9817b2f5f26e257f37a398d4096.png)

**图8-9 机器人基坐标系示意图**

![](c4dc137745a1860aef2fd6720a5007d5.png)

**图8-10 工作坐标系选择示意图**

### 8.2.4 工具坐标系选择

工具坐标系可通过下拉菜单选择，默认显示的位姿目标是法兰盘中心（如图8-11所示），用户自己可以设定工具坐标系，假设tool1为用户自己设置的工具坐标系（设定机器人工具坐标系的方法见8.4.2.2），设定完成后可进行工具坐标系切换，如图8-12所示。

![](c0d049a5f52bc2e8d1c0bce85dfc21dd.png)

**图8-11机器人末端法兰盘中心坐标系**

![](2cff1b66bb561e29d1714d4926e351dc.png)

**图8-12 工具坐标系选择示意图**

**8.2.5 机械臂状态显示**

当机器人发生错误时，会在此处提示错误，点击图标可打开错误提示列表（如图8-13所示）。

![](3144ed69f9c6154a4e646b8868212f6e.png)

**图8-13 机械臂错误状态显示**

**8.2.6 网络连接状态显示**

当与机器人连接正常时，变为绿色，断开通讯时，变为红色。

![Group 319](b5e15c2a4aaa06155d7803dbed6a9313.png)![Group 428](a6b7ea2246366d8ea52490d7a2d405ab.png)

**图8-14 网络连接状态显示**

**8.2.7 速度显示**

此处可拖动滑动条来设置机器人运动速度占最大速度的百分比。

![](8a4c9c899fff589a441883a71e2d5eda.png)

**图8-15 速度设置示意图**

在使用位姿编辑时，此处可设置长按加减按钮时的数据变化速度。

![](9937a95ab1fe33a3d576e7014051e6ad.png)

**8.2.8 机器人急停按钮**

按下急停按钮后，机器人以最大速度停止，再次按下，取消急停，可重新对机械臂进行操作。

![](e364788e8e2204c74977e9fdc0205b3a.png)![](4aff4f38afabb088a9bc721cf6d818e9.png)

**图8-16 机器人急停按钮**

**8.2.9 全屏按钮**

该按钮用来控制示教界面进入全屏和退出全屏。

![](31bde87a8000105308112dbae5cbaf3d.png)![](7dd88112a200bcd3e74b01062a9283e4.png)

**图8-17 界面全屏按钮**

**8.2.10 电源按钮**

该按钮用来控制机器人的电源开关，蓝色代表机器人电源处于开启状态，灰色代表机器人电源处于关闭状态。

![shut-down-line 0 (1)](06a73687193555eba8f4731ca730d1b3.png)![shut-down-line 1](b7e5f6268acd72de5aec4cb52ebe6b5c.png)

**图8-18 机器人电源开关**

**8.2.11 中英文切换**

点击中英文切换按钮可进行中文版示教器与英文版示教器的切换。

![](6df68a508a9c8a6ef1c1d27d07b9a45e.png)![](ae4282f1a7ec4a7bb78ffbb3e8938533.png)

**图8-19 中英文切换**

**8.2.12 退出登录**

点击退出登录按钮退出登录。

![](9d3510c597992818a217a2cc1194e711.png)

**图8-20 退出登录**

**8.2.13 关节控制**

机器人一共有6个自由度，从下到上的每个关节分别命名为关节1\~关节6，分别对应机器人的六个关节。用户只需要使用示教界面上的关节控制按钮就可以控制每个机器人关节的转动。![Group 376](746dd4391dd34db7dd9c1a6a16d564a7.png)表示增大该关节角度，![Group 375](4f12e04845727c019b39908462ad5401.png)表示减小该关节角度,单位：度。

![](dd8effb34cf0aa036041159ee85cde99.png)

**图8-21 关节控制示意图**

**8.2.14 位置控制**

机器人末端可以基于世界坐标系（World）、基坐标系（Base）、末端工具坐标系（Arm_Tip）以及用户自定义平面坐标系来完成位置控制，用户可以对末端进行不同坐标系下的示教。对X轴，![](d33818169155db67527e9a33fc0dc7e7.png)表示向X轴负方向运动，![](1f7adc77b5266d42ae683687baab4fbc.png)表示向X轴正方向运动。长按按钮，机器人进行移动，松开后，机器人停止运动。其余轴向同理。

![](80f777bb87d7c018bce50c46ec51d051.png)

**图8-22 位置控制按键示意图**

**8.2.15 姿态控制**

机器人末端可以基于世界坐标系（World）、基坐标系（Base）、末端工具坐标系（Arm_Tip）以及用户自定义的工作坐标系和工具坐标系来完成姿态控制，用户可以对末端进行不同坐标系下的示教。姿态示教时，末端位置不变，姿态绕指定坐标轴发生变化。对于RX，![](d33818169155db67527e9a33fc0dc7e7.png)表示绕X轴负方向旋转，![](1f7adc77b5266d42ae683687baab4fbc.png)表示绕X轴正方向旋转。

![](754aea1aaaf46d29d5b7ac895b22f070.png)

**图8-23姿态控制按键示意图**

**8.2.16步进模式设置**

为了能够增加示教的精度，需要用到步进控制这个模式，能够让被控制的变量以步进的方式精确变化。

-   首先勾选“步进模式”选项框激活步进模式，进入步进控制方式。

-   用户可以通过点击步长数值左右两边的按钮来调整机器人运动相应的步长。

-   “位置”：表示在位置控制区，点击一次某个方向按钮，末端在相应方向平移的距离，单位为毫米（移动的过程中不得松开该按钮，松开后将中途停止）。

-   “姿态”：表示在姿态控制区，末端姿态运动的角度，单位可选为弧度（rad）或者度（°）。

-   “关节”：表示在关节控制区，控制相应关节运动的角度，单位为度（°）。

-   步进控制只对末端控制及关节轴控制有效。

![](f5226581bd14ed5ac269143f5cf541f6.png) ![83AE127E-3BFF-4410-B1B0-0F6A2CA911CF](980bb82edc656a0205c65916d62f756d.png)

**图8-24 步进模式示意图**

**8.2.17 位姿编辑**

通过拖动![](fcc78efb7579e05b950202cef597b114.png)进度条滑块或者拖动3D仿真区域中红色虚拟模型各关节可大体调节机械臂各关节角度，通过![](1114c25d0843535d05bcde382bb4bc46.png)![](817b7a13f8f34dbf5190c5b44d379fb3.png)按钮可微调关节角度以及位置姿态（如图8-25所示），同时也可直接输入参数调整。调整后的机械臂位置姿态由红色虚拟模型表示（如图8-26所示），长按![](2773163a2cec856c8bb1003a2705a127.png)按钮则机械臂运行至红色虚拟模型位置，松开按钮机械臂停止，点击![](d62f3f573039381e03e6ffc1c3ba4165.png)按钮则红色虚拟模型恢复至真实机械臂相同位置。

![](c9970645ecd3c13422dce8fc5d11f9d3.png)

**图8-25 位姿编辑示意图**

![](a7c368116a8d8678ca2277b9cdfda95b.png)

**图8-26 红色虚拟模型**

**8.2.18拖动示教**

在机械臂末端法兰外壳上有两个按钮，分别控制机器人进行拖动示教和轨迹复现。

按住机械臂末端绿色按钮，机械臂将处于可拖动状态，拖动机械臂末端进行轨迹记录，松开绿色按钮即完成轨迹记录。末端按钮位置如图所示。

![](ed331b68d6dd798c86168af6f98853eb.png)

点击机械臂末端蓝色按钮，机械臂自动回到轨迹起始位置，并进行一次轨迹复现（机械臂只复现最后一次记录的拖动轨迹）。

![](0d0e9f3bd5df840f346b70f41ba29e32.png)

**8.2.19拖动示教轨迹裁剪**

通过拖动示教保存的轨迹，可在此处选择运行或者裁剪。点击下拉框![](196d6516fc90fdc5d032bc20f31e02af.png)，选择要运行的轨迹，点击![](0bc99d2ff3de185f34738c39e22a5770.png)按钮运行轨迹，运行过程中可点击![](2385b8aa572c5f967c253784efee77aa.png)按钮随时停止，运行完毕后需点击![](2385b8aa572c5f967c253784efee77aa.png)手动停止。

拖动进度条两端的滑块可对轨迹进行裁剪（如图8-27），拖动滑块时红色虚拟机械臂可实时展示轨迹中每个点的位姿的描述，以方便用户确定裁剪点。裁剪完成后点击![](5fbb58bbbcf0133ca100aa1e5ca4c2f5.png)按钮裁剪后的轨迹将会把原轨迹覆盖保存，点击![](64d35ee5a03301b5f8db7b47a93f8d73.png)按钮裁剪后的轨迹将另存为一条新的轨迹。

![](173f502d85a4187444cc02f7453e1473.png)

**图8-27 轨迹裁剪示意图**

**8.2.20示教坐标系选择**

选进行运动。选择工具坐标系，机器人运动将按照工具端坐标系方向进行运动。

![](6ede8db226fc44267c6474e2e81f012f.png)

**图8-28 运动坐标系选择示意图**

![](bc9949882852b560c0ed308069b7ef11.png)

**图8-29 工作坐标系运动示意图**

![](beb692faed2d5e51c5c6dbd0cacb8933.png)

**图8-30 工具端运动示意图**

**8.2.21 绘制、清除轨迹**

打开“绘制轨迹”功能，在模型预览区将实时显示机器人末端运行轨迹线。

![](3f000f6091636d64271ad52195c1d967.png)

**图8-31 绘制轨迹示意图**

打开“清除轨迹”功能，在模型预览区将清除机器人运行轨迹线。

![](401f77b1a6eb2165b75ac2b84786bbda.png)

**图8-32清除轨迹示意图**

**8.2.22一键回位按钮**

点击![](e5619966ad71bacfbdc5f9fea9c0f933.png)按钮，3D仿真模型视图可快速恢复到初始视图。

**8.2.23零位姿态按钮**

零位姿态：长按![](c1d0dbedb9a68387ab6c0fa90a96ba7a.png)可使机器人回到零位。松开按钮运动停止。

**8.2.24 初始姿态按钮**

初始位置：长按![](d1a0b622e51afec38d59346d7227062c.png)可使机器人回到初始位置。用户可以通过示教器界面来任意设定机器人初始位置（初始位置设定方法，详见8.4.2.4）。松开按钮运动停止。

**8.2.25 机器人位置姿态参数显示**

位置下的X、Y、Z表示工具法兰中心点（选定的工具坐标系）在选定坐标系

（基坐标系、末端坐标系、用户自定义坐标系）下的坐标值，姿态下的RX、RY、

RZ 表示相对于选定坐标系旋转的弧度值。

![](3853c6899b1201fbadacd6b38499eb6c.png)

**图8-33 末端位姿显示示意图**

**8.2.26 3D仿真模型**

机器人仿真界面的作用是为了脱离真实机械臂，验证用户编写的程序。用户可以根据仿真环境来检验机器人的控制程序是否合理。此外，模型区域有以下功能可方便用户的使用。

-   仿真模型可以根据需要，拖动鼠标（或触摸平板界面）改变大小及方向。

-   红色虚拟机械臂的每个关节都可以使用鼠标拖动，拖动超出限位时页面顶端会有弹窗提示。

![](effe7a388a896eb49237d2c279297ab7.png)

**图8-34 拖动超限提示**

-   当某关节报错时，模型对应关节会变成红色来示警。

![](ceaaaaca95648c8880c415fa0eebdbed.png)

**图8-35 关节报错**

**8.3 在线编程**

**8.3.1 图形化编程**

用户可通过“图形化编程”界面，对RM65系列机器人进行编程操作，实现机器人的复杂运动。

![](7ffc2f26e56d3eb5806a77134761f7af.png)

**图8-36 图形化编程界面**

**表7 图形化编程界面**

| 序号 | 名称           |
|------|----------------|
| 1    | 本地导入按钮   |
| 2    | 保存按钮       |
| 3    | 清空按钮       |
| 4    | 基础指令       |
| 5    | 运动指令       |
| 6    | 高级指令       |
| 7    | 开始按钮       |
| 8    | 暂停按钮       |
| 9    | 停止按钮       |
| 10   | 单步按钮       |
| 11   | 关节运动到该处 |
| 12   | 直线运动到该处 |
| 13   | 新增路点       |
| 14   | 设置默认编程   |
| 15   | 模型预览       |

下面将按照表7的顺序，依次对各区域/按键进行说明：

**8.3.1.1 本地导入按钮**

对于已经建立的工程，单击 ![](fa6787ddb089ae35ae72079f06593c69.png) 按钮，弹出当前编辑中的文件是否需要保存弹窗提示，点击继续导入，选择好工程文件并单击“打开”后，文件将显示在右侧的文本框内，工程文件后缀为.txt。

例如：选择名为“program2023_04_14 16_12_27.txt”的文件。

![](a7ef3aa3eae4ee38dfb83d4d1210be39.png)![](8e930d791cf59662f1b85e98b46dbb10.png)

**图8-37 本地导入工程**

**8.3.1.2 保存按钮**

单击![](feb2aa0b4805dca8437fdde631670c64.png)按钮后，工程内容显示区域中的数据将会下载到设置的下载路径中，文件名为“program 日期 时间”，如“program2023_07_19 18_02_17”，后缀为.txt。

![](12ae8805b70975f70e8f0c838f12f5dd.png)

**图8-38 工程保存示意图**

**8.3.1.3 保存在线编程文件**

在图形化编程界面里编写运行的程序后，勾选左下角的“保存编程文件”选项，之后点击[运行]会出现弹窗提示（如图8-39），设置编程文件的名称（需用数字命名）后点击开始，保存好的编程文件在数据管理-编程文件下（如图8-40），保存的文件可以通过TCP或者Modbus直接调用。

![](ce5140d0140b6d6a90134ce868f262a4.png)

**![](07eb14623bcaae389ef86830969a3414.png)**

**图8-39 编程文件命名示意图**

![](fcea331fd46149551fe2f95be2c75a4d.png)

**图8-40 编程文件路径示意图**

**8.3.1.4 清空按钮**

单击![](e308b322d93a4a184de97c06f0fd5811.png)按钮后，将清空编程区域的内容，若当前有正在编辑的工程，将弹出“确认清空？”提示框，根据实际需求单击“确定”进行清空，或单击“取消”放弃。

![](496166ced69f4cb75e77fda406581cfe.png)

**图8-41 确认清空提示**

**8.3.1.5 基础指令**

基础指令包含“初始模块”、“等待”、“设置”、“判断”、“循环”、“终止”、“弹窗”、“文件”8个指令。

![](f2637da832787b6e75e01e34c5bac045.png)

**图8-42 基础指令**

**\<初始模块\>**

“**初始模块**”为每次编程必须添加的模块，添加在程序的开始。不添加该模块点击开始则示教器界面顶部弹窗提示“请添加初始模块”。

![](6496aded3620a360470c0ac749fd593c.png)

**图8-43 初始模块**

![](21c4c4c9436c3d2d0cd105d85564f1a8.png)

**图8-44 未添加初始模块提示**

**\<等待指令\>**

“**等待**”指令用于等待时间或信号输入。可选择为不等待、等待时间、等待数字输入。

![](cd1e5eeab9d8f2c0204899e1f4244809.png)

**图8-45 等待指令**

**不等待：**不设置等待条件。

**等待时间**：用户可设置等待时间，单位：秒。

**等待数字输入：**等待数字信号输入接口满足设定条件。包括控制器端数字输入接口DIN1、DIN2、DIN3、DIN4和工具端数字输入接口T_DIN1、T_DIN2。数字输入分为高电平和低电平两种电位。

**程序示例：**在程序段中添加一个等待2秒指令，在路点1与路点2之间示例如下图所示。

![](8bb644808cd7c95f31b77b5c81f8d237.png)

**图8-46 等待指令程序示例**

**\<设置指令\>**

“**设置**”指令用于设置数字输出接口状态。可选择为不设置、设置数字输出。

![](60dc6929815fc606055bd2339a17cf8b.png)

**图8-47 设置指令**

**不采取行动：**保持输出接口状态不变。

**设置数字输出：**设置数字信号输出接口为指定状态。包括控制器端数字输出接口DON1、DON2、DON3、DON4和工具端数字输出接口T_DON1、T_DON2。数字输出分为高电平和低电平两种电位。

**程序示例：**在程序段中添加一个设置指令，在路点2与路点3之间示例如下图所示。

![](305e975e4f799d21bf6f85734cbabca4.png)

**图8-48 设置指令程序示例**

在程序中，程序行5位置为设置模式，可设置数字输出为低电平或高电平如下图所示:

![](06095ad6e17902ca2ea9fd70095be173.png)

**图8-49 设置指令程序示例**

**\<判断指令\>**

“**判断**”指令用来判断是否执行分支程序。满足设定条件时执行分支程序，不满足时跳过分支程序。

![](3f55c339560c5671e8d9f7e1b0c6007c.png)

**图8-50 判断指令**

**数字输入判断：**判断数字信号输入接口是否满足设定条件。包括控制器端数字输入接口DIN1、DIN2、DIN3、DIN4和工具端数字输入接口T_DIN1、T_DIN2。数字输入分为高电平和低电平两种电位。

**程序示例：**在程序段中添加一个判断指令，在路点1与路点2之间示例如下图所示。

![](b3cebd41167687204fb1cf093ed8377b.png)

**图8-51 判断指令程序示例**

在程序中，程序行3位置为判断模式，判断数字输入为低电平或高电平如下图所示:

![](b165266414138ac23bae074b586a0648.png)

**图8-52 判断指令程序示例**

**\<循环指令\>**

“**循环**”指令表示重复执行程序指令。可设置为循环指定次数和无限循环。

![](b873f5726876bac662ed418f10c997a9.png)

**图8-53 循环指令参数**

**执行循环次数：**程序循环执行指定次数。

**无限循环：**无限次循环执行程序指令。

**程序示例：**在程序段中添加一个循环指令，在路点1与路点2之间示例如下图所示。

![](8c4c9706d220b4409406f5ea7e42dd2c.png)

**图8-54 循环指令程序示例**

在程序中，程序行最下方位置为循环模式，循环次数为两次。

**\<终止指令\>**

“**终止**”程序运行至终止命令时，程序停止，不再执行终止命令以后的程序。

**程序示例：**在程序段中添加一个终止指令，在路点8与路点9中添加终止指令

如下图所示：

![](ce3dccd5120fd87f035fc762eddfe183.png)

**图8-55 终止指令程序示例**

在程序中，程序行3位置为终止指令，运动轨迹运动到该点位会终止程序下面轨迹路点2不再执行运动。

**\<弹窗指令\>**

“**弹窗**”指令用来向用户进行信息提示，弹窗内容不得为中文。

![](84519235562e6e28f565e7f12dd9e3b4.png)

**图8-56 弹窗指令参数**

**程序示例：**在程序段中添加一个弹窗指令，在路点1下添加弹窗指令如下图所示：

![](6122ba137b55e92d1994ab8e21119b7f.png)

**图8-57 弹窗指令程序示例**

在程序中，程序行3位置为弹窗模式，轨迹运动到该点位会弹出窗口

如下图所示:

![](6b6112bff16322762721c6c96b21fc24.png)

**图8-58 弹窗指令程序示例**

根据提示需要确认后，程序继续执行。

**8.3.1.6 运动指令**

运动指令包含“移动”、“路点”2个指令。

![](6f58eb7a8f329734121c0ec7596725f0.png)

**图8-59 运动指令**

**\<移动指令\>**

![](b6677241e2a270ef10c6dc09a787324a.png)

**图8-60 移动指令参数**

移动指令分为“MOVEJ”、“MOVEJ_P”、“MOVEL”、“MOVEC”四种运动类型。

**MOVEJ与MOVEJ_P指令**：只保证最终路点位置，不对中间轨迹进行约束。

**MOVEL指令**：在保证最终路点位置的同时，保证两点之间轨迹为直线运动。

**MOVEC指令**：用来执行圆弧或圆形轨迹，只能添加两个路点（中间点和终点）。

![](ecf4e818a8c4d60227debe23aa9933d2.png)

**MOVEJ与MOVEJ_P指令 MOVEL指令 MOVEC指令**

**图8-61 移动指令**

**“移动”**指令可对运动类型、运动速度、工作坐标系、工具坐标系进行设定。

![](e9241bfe9c20049021ec8bd4cda1c0b8.png)

**图8-62 添加移动指令**

**运动类型：**包括“MOVEJ”、“MOVEL”、“MOVEJ_P”、“MOVEC”，分别表示关节运动、直线运动、和圆弧运动（当执行圈数为“0”时，执行圆弧轨迹；当执行圈数为大于等于1时，执行圆形轨迹）。其中“MOVEJ”与“MOVEJ_P”均为关节运动，但路点参数不同，“MOVEJ”的路点参数为各轴关节角度，“MOVEJ_P”为工具坐标点的位姿。

**运动速度：**为该移动指令下路点的默认速度。

**工作坐标系：**以实际工作位置设定的坐标系，支持用户创建。

**工具坐标系：**以实际末端工具中心点设定的坐标系，支持用户创建。

**程序示例1：** 在程序段中添加一段MOVEJ运动轨迹，其中路点1至路点2之间的运动为MOVEJ，示例如下图所示。

![](2714c907a0208691a5d66e6915b97b13.png)

**图8-63** MOVEJ**移动程序示例**

**程序示例2：**在程序段中添加一段MOVEL运动轨迹，示例如下图所示。

![](36b4ec45204ceff94f62e0306ccd0b85.png)

**图8-64** MOVEL**移动程序示例**

**程序示例3：**在程序段中添加一段MOVEC运动轨迹，示例如下图所示。

![](77f87cdd0c267616d23016f0e78a06b4.png)

**图8-65  MOVEC移动程序示例**

**\<路点指令\>**

“**路点**”指令必须添加在“**移动**”指令下，作为机器人工作运动点位。该指令可选择事前保存的路点，可设置速度以及交融半径。

![](1db7dea85e1ddd9b89bcd7c2c3e0600f.png)

**图8-66 路点指令参数**

**路点选择：**用户可点击下拉框选择自己保存好的路点。

**交融半径：**默认为0 ，无需更改。

**程序示例：**在程序段中添加MOVEJ运动轨迹的一个路点，在路点p1下设置路点为p2，示例如下图所示。

![](0dd0fcf1c191e8a111488631cc1485ac.png)

**图8-67 路点程序示例**

**8.3.1.7 高级指令**

高级指令包含“力控”、“夹爪”、“注释”、“灵巧手”、“升降机”5个指令。

![](87949ff2a60103ae04323d96a8d0a14b.png)

**图8-68 高级指令**

**\<力控指令\>**

“**力控**”指令只针对在机器人末端安装有力矩传感器的机器人（包括：RM65-6FI/RM75-6FI/RML63-6FI/ECO65-6FI）。设定参数包括传感器选项、坐标系选项、力位混合控制方向、力度值、打开或关闭力位混合控制模式。

![](ae138b98bc9faf860aa5b5cfc8a72a06.png)

**图8-69 力控指令参数**

**传感器选项：**六维力传感器。

**坐标系选项：**选择力控参考坐标系。

**力位混合控制：**可设定力位混合控制的方向和力度，六维力传感器可以选择X\\Y\\Z\\Rx\\Ry\\Rz中的一个方向。

**关闭力位混合控制：**勾选关闭力位混合控制后，程序中后续移动指令将不再采用力位控制模式。

**注意：1.通过力位混合控制移动的点位，必须通过笛卡尔坐标系进行参数记录，即不得包含MOVEJ指令。**

**2.RM65-B机器人不支持力控指令操作，连接标准版机械臂时在示教器中该模块为禁用状态。**

**3.力控的前一个点位需和力控的第一个点保持一致。**

**4.运行启动力控指令时，请勿对力传感器施加系统外的力，以免影响校准（编程参考程序示例）。**

![](7fb1dd713e1887050b2472d32b091020.png)

**图8-70 力控模块禁用状态**

**程序示例：**在程序段中添加一段力控轨迹，其中循环中的直线运动为力控过程，示例如下图所示。

![](708441738358bf4e44a3102e9b855c62.png)

**图8-71 力控程序示例**

**\<夹爪指令\>**

“**夹爪**”指令用来控制两指夹爪动作。可进行速度、力度、阻塞模式、夹爪夹持动作的控制。

![](98585aeae733914b0ccc1736fabe839c.png)

**图8-72 夹爪指令参数**

**速度：**设置夹爪运行速度。速度参数可设置为0-1000，最大速度70mm/s。

**力：**设置夹爪夹持力度，力控参数可设置为0-1000，最大夹持力20N。

**阻塞模式：**分为阻塞和非阻塞模式。阻塞模式下，夹爪运动完成后，机器人执行后续指令；非阻塞模式下，夹爪运动过程中，机器人同步执行后续程序。

**夹爪夹持动作：**夹持动作包含张开和闭合两个动作。

**程序示例：**在程序段中添加一个夹爪指令，示例如下图所示：

![](b3474d32e677b179d9bd81aa8c08205f.png)

**图8-73 夹爪指令程序示例**

在程序中，程序行2位置为夹爪阻塞模式打开，速度：200 力：200。

**夹爪闭合如下图所示：**

![](a6144f51388325516e0dc5b58a154ab4.png)

**图8-74 夹爪闭合指令程序示例**

**\<注释指令\>**

“**注释**”指令用来在程序中进行程序段功能解释说明。不进行任何机器人控制。注释内容不得输入中文。

![](c391ba70e149544b888067c4cf2e7e08.png)

**图8-75 注释指令参数**

**程序示例：**在程序段中添加一个注释指令，其中路点2与路点3之间添加一个注释指令，示例如下图所示：

![](80e83e52b030f0fd0d4fca21fa5cab0f.png)

**图8-76 注释指令程序示例**

**\<灵巧手指令\>**

“**灵巧手**”指令用来控制五指灵巧手动作。可进行阻塞模式设置、手势设置、动作序号设置。

![](b38cc715e5cd9a2c1c5015a4262948b8.png)

**图8-77 灵巧手指令参数**

**阻塞模式：**分为阻塞和非阻塞模式。阻塞模式下，灵巧手运动完成后，机器人执行后续指令；非阻塞模式下，灵巧手运动过程中，机器人同步执行后续程序。

**手势设置：**灵巧手预存手势。

**动作序号设置：**灵巧手预存的手势序号，可设置为1-40，每个序号代表1种手势动作。

**程序示例：**在程序段中添加一个灵巧手指令，在路点1点位后添加一个灵巧手指令，示例如下图所示：

![](d09dd8060fc39843b5223b69a9236f3d.png)

**图8-78 灵巧手指令程序示例**

在程序中，程序行3位置为灵巧手指令，手势为：14 。

**\<升降机指令\>**

“**升降机**”指令用来控制机器人扩展关节升降机或滑台的移动。可设定目标高度、阻塞模式和速度。

![](76673eddb2d5912165ea8bfdf14e972e.png)

**图8-79 升降机指令参数**

**目标高度：**对升降机构进行位置控制，根据机器人实际工作位置进行位置设定，需注意升降机构实际行程。

**阻塞模式：**分为阻塞和非阻塞模式。阻塞模式下，升降机构运动到位后，机器人执行后续指令；非阻塞模式下，升降机构运动过程中，机器人同步执行后续程序。

**速度：**设置升降机构移动速度。参数设定范围为0-100。

**程序示例：**在程序段中添加一段升降机轨迹，在路点1后添加升降机指令，示例如下图所示。

![](501afd87b9aa6537a5a081e222a5f4cc.png)

**图8-80 升降机指令程序示例**

在程序中，程序行3位置为升降机指令，目标高度为：200mm 速度为：50%。

**8.3.1.8 开始按钮**

当在线编程工程建立完成后，点击页面左下侧的![](58ad651bf40cc90846d6d0d6a77e07dd.png)按钮（该按钮被点击之后变为![](4fbeb1e1e0736571dac05aac98d67806.png)按钮）。轨迹自动运行过程中，当前运动编程点的背景颜色变为亮色。

![](c07c6b5669db11ed0aa1d1a3e3f075e2.png)

**图8-81 开始程序**

![](97be35b092fe3223ba7caa8ea3b484a3.png)

**图8-82 程序运行中**

**8.3.1.9 暂停按钮**

在机器人运动过程中点击![](2592b00110d989f188f79773eeb0d3ce.png)按钮，机器人将立即停止运动，当再次点击![](8bb0f7266312ec96fc0adf42ef26db2f.png)时，机器人将继续移动。

![](2bf54a6831037eecbd7ff9c14fb04dcb.png)

**图8-83程序暂停与继续**

**8.3.1.10 停止按钮**

当点击![](d9cb162a0c6d3a7f204438bce62a377d.png)按钮，结束该工程后，![](4fbeb1e1e0736571dac05aac98d67806.png)按钮内容恢复为![](a90ac90940b02b86e035c7cfd33e6bf1.png)。点击![](d9cb162a0c6d3a7f204438bce62a377d.png)按钮，轨迹也会停止，不可继续。

![](60ce3042f5b78f1e3707d3ac7f6e25b5.png)

**图8-84程序停止**

**8.3.1.11 单步按钮**

在线编程数据可单步运行。点击![](dcf9697bc98569f34b086180a1c162b5.png)按钮，![](a90ac90940b02b86e035c7cfd33e6bf1.png)按钮变为![](3efb6280c4d5b10cf1ae15a99711ba91.png)按钮（配合暂停功能完成轨迹恢复）。单步模式下，程序逐条执行，当只有在完成一段轨迹后，再次点击单步按钮才能下发下一段轨迹命令。

![](05a388e3bafeee7e5e886334e4ea1fec.png)

**图8-85 程序单步运行**

**8.3.1.12 关节运动到该处**

该按钮只对“路点”指令有作用，用来控制机器人从当前位置以MOVEJ形式运动到目标点。首先在右侧程序显示栏中点击目标点（目标点选中状态为添加黄色边框），长按![](261a93b82be253561e72cb5fe16c0944.png)按钮，就可以通过关节空间规划运动到该处，松开按钮运动停止。

![](7db1d1666244f838beb3c65af2f2fe53.png)

**图8-86关节运动到该处**

**8.3.1.13 直线运动到该处**

该按钮只对“路点”指令有作用，用来控制机器人从当前位置以MOVEL形式运动到目标点。选中目标点后，长按![](49f373844e5a32718e1975c3100f7de7.png)，机器人末端就沿直线向目标点运动，松开按钮或者发生不可达时运动停止。

![](1cc214bd4de3af39e1c02627db5c52a9.png)

**图8-87 直线运动到该处**

**8.3.1.14 新增路点**

用户可通过此功能保存常用点位，保存的点位可在点位管理中查看编辑，方便用户使用。

**新增路点示例：**

1.  点击![](696cdfc8a2ce2ccd5b49117bd61c76d5.png)按钮，页面自动跳转到机械臂示教页面。

    ![](64ad76cdb24f955fc840a9418cec86ea.png)

**图8-88 新增路点**

1.  在此页面通过示教按钮、位姿编辑或者末端拖动示教按钮拖动使机械臂到达需要的点位。

    ![](aea28fa5c385917b25362ec6411b9c75.png)

**图8-89 编辑路点**

1.  点击![](acb8b6855a425e18184718cf88a2f257.png)按钮保存该点位。

    ![](b851ecd9989823d4fcdfeac93a76729d.png)

**图8-90 确定路点**

1.  在弹出的保存弹窗中输入点位名称，点击确定即可保存成功。

![](63221890e04210662aed7ed8cce40a6f.png)

**图8-91 保存路点**

**8.3.1.15 设置默认编程**

勾选设置默认编程选项点击“开始”运行编程文件，该程序会作为默认在线编程文件保存在控制器中，通过设置控制器数字IO模式控制默认编程的运行。

![](619d7228d639ceff29f5a56ecfb4a626.png)

**图 8-92 设置默认在线编程**

![](b2702243d304641a85a5a72d69d7bd62.png)

**在线编程示例**

控制器IO模式可设置如下：通用输入模式，通用输出模式、输入开始功能复用模式，输入暂停功能复用模式，输入继续功能复用模式，输入急停功能复用模式。

![](0ca61ccc3aa79ce31270a9cbe4229174.png)

**图 8-93 控制器数字IO**

例如我们设置控制器数字IO四个通道依次为输入开始功能复用模式、输入暂停功能复用模式、输入继续功能复用模式、输入急停功能复用模式，且分别接通外部输入数字电源通道（OUT_P_IN+）和外部数字地通道（OUT_P_GND），打开控制器电源输出12V，此时，对应IO通道输入低电平会触发编程文件的开始、暂停、继续、急停操作。

**8.3.1.16 模型预览**

模型预览区可以在仿真模式下运行程序，对程序进行轨迹预览，也可以在真实机械臂模式下与机械臂进行同步运行。

![](5cbf933462bebc580be59d0b893387b1.png)

**图8-94 模型预览**

**8.3.2 数据管理**

用户保存的轨迹、点位、图形化编程、脚本编程、电子围栏。均可在此页面进行管理。

![](5ce9918b31091cdd633143d93d6ddc8e.png)

**图8-95 数据管理**

**8.3.2.1 轨迹列表**

轨迹管理页面会显示轨迹名称、文件大小、创建时间以及修改时间，可执行的操作包括“删除”、“编辑”、“下载”。

![](621ea336564762ee40997840500ca07b.png)

**图8-96 数据管理**

![](0d0315e5339ae428ffb40e51443d70f1.png)**删除：**删除该条轨迹。

![](9bec6c2193f7390381d9276ce585780e.png)

**图8-97 删除轨迹**

![](2d667645ee420b2d4b103a0dab894660.png)**编辑：**修改保存的点位。

点击该按钮跳转到机械臂示教页面，在该页面的轨迹裁剪部分裁剪轨迹，点击确定即可保存。

![](3e8b7adb273a0802b577119f90bf3d44.png)

**图8-98 编辑轨迹**

![](de76e794cc7e4227ddeeccd913271794.png)**下载：**保存该轨迹到本地。

点击下载按钮会将轨迹文件下载到浏览器设置的下载路径中，后缀为.txt。

![](ba9513fa3595e735a6ece52a80126b35.png)**图8-99 下载轨迹**

**8.3.2.2 点位管理**

点位管理页面会显示点位名称、位置姿态、关节角度、工作坐标系以及工具坐标系，可执行的操作包括“删除”、“编辑”、“新建”、“一键删除”、“搜索”。在页面下方有保存点位的页数展示，及页面跳转选项，保存的点位、编程的脚本无条数限制。

![](471029d4bd0db95a79f841df523c4a1f.png)

**图8-100 轨迹/点位管理**

![](0d0315e5339ae428ffb40e51443d70f1.png)**删除：**删除该点位。

![](2664ef8147324466456c65d4bbcea5b4.png)

**图8-101 删除点位**

![](2d667645ee420b2d4b103a0dab894660.png)**编辑：**修改保存的点位。

点击该按钮跳转到机械臂示教页面，在该页面通过示教按钮或者末端拖动示教按钮拖动使机械臂到达需要的点位，点击确定即可保存。

![](f824d408d9555b3526304332e3bcf29c.png)

**图8-102 编辑点位**

![](c1f175aa32090c6af9cd9a95c25a334f.png)**新建：**建立新的点位。

新建点位步骤同8.3.1.13节新建路点。

![](4db7e353cdf8f0ce873e7117c8008097.png)

**图8-103 新建点位**

![](aa9667d950f122644e5c8a8130215eb7.png)**批量删除：**一键删除多个点位。

![](265b1983216291dda505bafbc508d7e1.png)

**图8-104 一键删除**

![](087fd74e58f3209742dadb78fd104974.png)**搜索：**通过点位名称搜索点位，支持模糊搜索。

![](27d521e735b24d936ab467e998af42c7.png)

**图8-105 搜索**

**8.3.2.3 图形化编程**

图形化编程界面会显示名称，编号、文件大小、默认运行速度、操作。可执行操作包括“删除”、“下载”、“运行”![](1a3dbc0b2b9e6db1e91b6fa7c6361d79.png)

**图8-106 图形化编程**

#### 8.3.2.4 脚本编程

脚本编程界面会显示名称，编号、文件大小、操作。可执行操作包括“删除”、“下载”、“运行”

![](e7c31b9de38adb24393bef3ad760573d.png)

**图8-107 脚本编程**

**8.3.2.5电子围栏**

电子围栏页面显示序列名称、类型、参数、操作等。点击编辑可立刻进入编辑页面，具体操作见（**8.4.2.10）**，编辑完成后点击更新参数。

![](4d9f46573f65e8ec3cce801f991d02a0.png)**图8-108 电子围栏**

### 8.3.3.脚本编程介绍

可通过代码编辑器直接输入python代码，也可以通过页面上方多种的icon选择后输出相应python代码段。代码编辑器手动输入可自动进行代码格式的缩进排版，通过icon选择后输出的代码段必须手动调整代码格式

![](f710733edd80efd26b400cb678fe52c4.png)

**图8-109脚本编程**

**脚本编程Icon介绍**

| 序号 | 名称         |
|------|--------------|
| 1    | 运动按钮     |
| 2    | 等待按钮     |
| 3    | 设置按钮     |
| 4    | 循环指令     |
| 5    | 力控指令     |
| 6    | 灵巧手指令   |
| 7    | 夹爪按钮     |
| 8    | 升降机按钮   |
| 9    | 文件导入     |
| 10   | 保存         |
| 11   | 清空         |
| 12   | 保存编程文件 |
| 13   | 开始         |
| 14   | 停止         |

#### 8.3.3.1 运动按钮

![](846ed3c41a4791f5c4d110671f23698d.png)再点击运动按钮后弹出窗口，窗口内容为运动类型、工作坐标系、工具坐标系、路点、运动速度、交融半径、执行圈数、阻塞、添加路点、应用等相关

按钮。

![](b8f5d892ecbb7bab2b94b16303215b47.png)

**图8-110运动按钮**

点击运动类型按钮弹出运动指令选项，详细请参考{8.3.1.6}运动类型介绍![](3a733b03646e5ca5ea43307b62b34e34.png)

**图8-111运动按钮**

点击工作坐标系按钮弹出已添加的当前坐标系，默认的三个分别是world、base、test三款，在窗口内选择需要的坐标系，坐标系详细介绍请参考{8.4.2.3}

![](3a060f6b9a5ae16e5266c916fb70d4e3.png)

**图8-112工作坐标系**

点击工具坐标系按钮弹出已添加的当前坐标系，在窗口内选择需要的坐标系，坐标系详细介绍请参考{8.4.2.3}

![](53ee2591d809e6219155386f4077d4a2.png)

**图8-113工具坐标系**

点击路点，跳出在点位管理中保存所有路点。可点击使用路点来来进行脚本编程每次选择一个（movec可选择两个路点），在选择完成后页面下方显示当前路点的关节角度。

![](17b8f7bcb1c48be692b3f4dff2f133ca.png)

**图8-114路点**

速度按钮可以调试0\~100%的速度，默认值为50%，点击向上向下两个小按钮每次可增加1%。

![](ac8f6477247ee82e212f9dea25f9cf76.png)

**图8-115速度**

交融半径按钮可输入需要的交融半径范围，默认值为0，不需要则无需更改

![](00b49d842c0be679c6861ac81863e79c.png)

**图8-116交融半径**

执行圈数按钮在使用MOVEC时选择需要的执行圈数。

![](baa1d02f7c477372933d818d148cbeb3.png)

**图8-117执行圈数**

阻塞可点击页面下方按钮开启或关闭阻塞

![](f4cf925751805abc578e74c0f6319e49.png)

**图8-118执行圈数**

在选择好需要的运动类型、路点等内容后脚本编程自动跳出选择好相应的脚本编程。![](fd0fc08473d1568624fc474967307891.png)

**图8-119脚本编程页面**

#### 8.3.3.2 等待按钮

![](36908c94bc8f0a4e2ad3cfa5d24dcc2a.png)再点击等待按钮后可选择等待类型分为两种。等待时间、等待数字输入两种类型。

等待时间可输入需要的等待时间限制

![](ba3efd5027d88061b27550d7ac3c7e02.png)

**图8-120等待时间**

等待数字输入有DIN1-DIN4和T_DIN1\\T_DIN2、高电平、低电平，等选项。![](6f478136f3df916aacbcbce6a37feac8.png) ![](c68748aad796e3c6dde70478d6ba4d4d.png)

**图8-121等待数字输入**

在选择完成等待时间或等待数字输入后主页面跳转出相应的脚本编程。![](c61dc65dbd843644c7079016612dfe92.png)

**图8-122脚本编程页面**

#### 8.3.3.3设置按钮

![](3ccbdad3fefa8ef77d009dcb9aff6f71.png)设置内容有设置数字输出，其中包括DOUT1\~DOUT4和T_DOUT1\\ T_DUOT2、高电平、低电平、阻塞开关等内容。

![](7e87bafee857c1fd604ce58180a42138.png)![](f04c841657d42c61b7a408d2f1035caa.png)

**图8-123设置按钮**

在选择完成数字输出后，主页面跳转住相应的脚本编程。

![](63dcde9e612f1cf2851c30ecad815693.png)

**图8-124脚本编程页面**

#### 8.3.3.4循环按钮

![](2c458c031ab54df2e1c72ef394c16bdb.png)循环内容包括循环，无限循环、结束循环，在选择循环时可选择相应的循环次数。

![](fda5bc3b4a7e0f52e34179a3390f7846.png)![](27690d36821e8e52d0b21f3c1479099b.png)![](763bb79b2ef5ad2c8a5a08448b5899ea.png)

**图8-125循环按钮**

在选择完循环类型后主页面跳转住相应的脚本编程。

![](7a12d9c5c8e4a08148fa4227a759d24c.png)

**图8-126脚本编程页面**

#### 8.3.3.5力控按钮

![](61d87da354765a7c09d153ea4d618ddb.png)内容包括力控，阻塞两块。力控分为关闭力位混合模式和开启六维力传感器，在开启六维力传感器后可选择个人所需的工作坐标系和工具坐标系以及力位混合模式下控制的方向，多少牛米的力。力位混合控制方向分为X、Y、Z以及MX、MY、MZ。

![15abba0966646fc96801d90d62b0c426](7dbd131208b3d6147d7824e207d8928d.png)![ff22edbcc0547d719dc475a6542de6ad](8a8eda11ae2b08bb30de23aeb19708a7.png)

**图8-127力控页面**

在选择相应的需求后在脚本编程页面会弹出相应的六维力传感器脚本

**![2bfb1f02cbe6a66c55742e6d6fbf72c6](088476289d84fe2b6ef708d41a9862a4.png)**

**图8-128脚本编程页面**

#### 8.3.3.6灵巧手按钮

![](dab6c92530ee17e803dca384a9e32b21.png)内容包括灵巧手、编号、阻塞，其中灵巧手可以选择手势设置和动作序列设置。选择完成后再编号界面内可以选择编译好的灵巧手程序。

![](912691b53455d05c64bf259651d7039f.png)![](9f69414079e5f34614b99c0fae9ee191.png)

**图8-129灵巧手页面**

选择好需要手势设置或者动作序列设置的同时选择好需要的编号。点击应用后脚本编程页面会出现相应的脚本编程。

![](80d0c9547cdef6fcc5163057af78d9c3.png)

**图8-130脚本编程页面**

#### 8.3.3.7夹爪按钮

![](821d42e29c5be04de41aac9abca80dd8.png)内容包括动作类型、速度、力、阻塞。动作类型分为张开，闭合两种，速度默认为50%力默认为50N。

![](4f937d82506e82f1a56611cea3391a6a.png)![](5e5d24aa12dc916d89ffd2b8d3360dae.png)

**图8-131夹爪按钮**

需要夹爪张开和闭合的位置选择好速度和力脚本编程页面回显示出对应的脚本

![](633f7f12cc754156cfe4ad6f90566c6b.png)

**图8-132脚本编程页面**

#### 8.3.3.8升降机按钮

![](763914ddbf31ff4719533511728c61af.png)内容包括目标高度、速度、阻塞。

![](6fcd895806486731862b0daaf6d2d729.png)

**图8-133升降机按钮**

选择好需要的升降机的目标高度与速度，点击应用后脚本编程页面回显示出对应的脚本。![](57624e042a4dab4bd3776ba20cfefe5c.png)

**图8-134脚本编程页面**

#### 8.3.3.9 基础按钮

页面下方有本地编程文件导入、保存当前代码到本地、清空代码编辑器、选中保存编程文件、以及编程下发开始和停止。本地编程文件导入时仅校验文件格式为“.py”。选中保存编程文件后，可以在编程开始下发时自动保存当前运行的python代码。

![](4e3146284c9429114473e4ad2057f4d8.png)**图8-135**

编程下发开始前无任何格式或语法校验，以console区域反馈提示为准。

![](462bff5a45e49eb1df6c23c9c47fd152.png)

**图8-136**

**注：RM65-脚本编程画八字代码实例**

| import sys import time from robotic_arm import \* Robot=Arm(RM65,'192.168.1.18') \#MOVEJ运动 Robot.Movej_Cmd([20.507,4.699,-97.759,-0.001,-86.952,0.523],50,0,False) \#MOVEL运动 Robot.Movel_Cmd([0.186,0.062,0.2,3.141,0,1.569],50,0,False) \#MOVEC运动 Robot.Movec_Cmd([0.217,0.092,0.2,3.141,0,1.569],[0.208,0.114,0.2,3.141,0,1.569],50,0,0,False) \#MOVEL运动 Robot.Movel_Cmd([0.165,0.157,0.2,3.141,0,1.569],50,0,False) \#MOVEC运动 Robot.Movec_Cmd([0.186,0.209,0.2,3.141,0,1.569],[0.208,0.157,0.2,3.141,0,1.569],50,0,0,False) \#MOVEL运动 Robot.Movel_Cmd([0.165,0.114,0.2,3.141,0,1.569],50,0,False) \#MOVEC运动 Robot.Movec_Cmd([0.156,0.092,0.2,3.141,0,1.569],[0.186,0.062,0.2,3.141,0,1.569],50,0,0,False) |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|

**8.4 配置**

**8.4.1 系统配置**

**8.4.1.1通讯配置**

系统配置界面主要对机器人控制器的通讯进行配置。设置AP、STA、IP模式后，页面会自动获取已设置的模式以及名称、密码等信息的回显AP模式下WIFI热点的物理信道的显示

![](cf99297dff6700fc447121287772acc9.png)

**图8-137 系统配置示意图**

**表8系统配置内容**

| 序号 | 名称             |
|------|------------------|
| 1    | WIFI AP模式设置  |
| 2    | WIFI STA模式设置 |
| 3    | IP模式设置       |
| 4    | 待机时间设置     |
|      |                  |

**8.4.1.2 WIFI AP配置**

控制器可切换到WIFI AP模式对外通信，网络名称为控制器对外显示的WIFI名称，网络密码为控制器WIFI的密码，点击设置按钮后，控制器将按照此内容进行网络配置，配置完成后立即以WIFI AP模式对外通信。该模式下，控制器的IP为192.168.33.80，通讯端口号：8080，通讯模式：server模式。机械臂出厂时默认设置为AP模式，名称格式如图，默认密码为12345678。

![](004790af26f585a63cc7af15cb1001c4.png)

**图8-138**

设定网络名称及密码，网络名称和密码不得包含中文字符，网络密码设定为8-10位密码。单击![](4f2600d95d640f7b37f01be30eb9b7e6.png)按钮，机器人控制器发出“滴”提示音，界面弹窗提示设置成功且自动下载保存网络名称及密码，重启控制器，模式切换完成。

![](b727d8ce0a185f438d26f3701a211d50.png)

**图8-139 WIFI AP模式设置**

WIFI AP模式连接机器人时，电脑连接好机器人WIFI（示例WIFI名称为RM65-01）,设置电脑WLAN为自动获得IP地址。

![](1be8335ad99c69565929c5a0af02057c.png)

**图8-140电脑本地IP设置**

设置完成之后，可在浏览器输入“192.168.33.80”IP地址登录WEB示教器。

**8.4.1.3 WIFI STA设置**

控制器可切换到WIFI STA模式，连接用户指定的路由器。网络名称为指定控制器要连接的路由器名称，网络密码为指定的路由器密码，配置完成后控制器立即以WIFI STA模式对外通信。该模式下，控制器的IP为路由器自动分配，通讯端口号：8080，通讯模式：server模式。

![](7f332024f69e0d75262e2af6fc2c4a77.png)

**图8-141 WIFI STA模式设置**

单击![](c8929264af6cd045a78119fe7420defd.png)按钮，机器人控制器发出“滴滴”提示音，模式切换完成。控制电脑与机器人连接到同一个路由器。

![](e62195dd7fca909773b83329eb52d5b1.png)

**图8-142 电脑连接路由器**

登录路由器管理界面，查看路由器为机器人分配的IP地址（以路由器给机器人分配的IP为192.168.1.142为例）。

示教器与控制器通过网口连接时，控制器与示教器通过网口进行通讯，端口号：8080，通讯模式：server模式。下图为网口位置，通讯速率：1000Mbps。 ![](c9d45e00091af6113d8f61ee7a8b0748.png)

**图8-143 网口接口**

本地网络设置：示教器启动时默认控制器的IP地址为192.168.1.18，端口号为8080（机械臂IP修改方式见8.4.1.4节设置机械臂IP）。

机器人控制器的网络IP地址为192.168.1.18，为了电脑能与控制器建立网络连接，需要将本地网络IP配置在同一网段内。

Windows系统与机械臂建立连接时，首先需要将电脑ip更改到192.168.1.xx网段，xx可为除192.168.1.18中“18”以外的ip，建议配置为192.168.1.100。Windows电脑ip配置方法为：

（1）打开电脑右下方WIFI按钮打开“网络和Internet设置”

![](3f1288aad4bbe1583802f56b6742123e.png)

**图8-144 打开网络和Internet设置示意图**

（2）如果是有线连接机器人，单击“以太网--\>更改适配器选项”

![](064443a66c2a2fca5a6560b15101b876.png)

**图8-145 本地连接示意图**

（3）双击“以太网”并打开，并且在弹出的窗口中单击“属性”按钮。

![](dac93599df8796429a5a22d6170afdc5.png)![](118817ec04e75b8b9d85fe7bf01aa3db.png)

**图8-146 属性示意图**

(4)在弹出的对话框中，第一步选中“Internet协议版本4”，第二步单击“属性”按钮。

![](5d2890647bebff13f1da04230728b7f1.png)

**图8-147协议版本示意图**

（5）按下图配置网络IP地址，配置完成后点击“确定”按钮，即可完成本地网络设置。

![](43d34192f3ddd504a3a7aa630764bcbd.png)

**图8-148 网络IP地址示意图**

（6）电脑的ip配置完成之后，将机械臂与电脑通过网线连接。等待机械臂开机完成之后，在网页网址处输入192.168.1.18，如进入以下界面，即说明机械臂连接成功，输入账号密码即可进入示教器。

![](57f993ece0e6dd93522fb232ca5e6cc5.png)

**图8-149 连接机器人示意图**

**8.4.1.4 设置机械臂IP**

在机械臂与示教器连接成功的基础上，可通过“配置--\>系统配置--\>通讯设置--\>目标IP文本框”中设置机械臂IP。

![](9870552c3afd717119249bf9b6639253.png)

**图8-150 IP模式设置**

在示教器IP模式设置栏中，最下方可直接设置机械臂IP，可在目标IP文本框中输入IP，如“192.168.1.19”，输入完毕之后单击下方设置按钮，可直接设置机械臂IP，此IP设置结束，此设置需重启机械臂生效。如需恢复“192.168.1.18”IP地址，可单击“重置”按钮，机械臂IP即可恢复“192.168.1.18”IP地址，此设置需重启机械臂生效。（如修改过机械臂IP，则登录示教器界面需输入更新过后的IP）

点击设置后会自动下载设置的IP，请注意保存以防止遗忘IP。

![](ff80bfb86c40f3f15f145b2d69e94c3e.png)

**图8-151 设置成功**

![](f755c5557761099d863de7b5bb9ee402.png)

**图8-152 设置机械臂IP示意图**

**8.4.1.5 待机时间设置**

如下图所示，可设置示教器未操作退出登录时长或者定时关闭，两者都设置则退出登录时间在前的设置生效。

![](89b33391fdb6d4dd2db9dd61b80c7260.png)

**图8-153 待机时间设置**

**8.4.2 机器人配置**

机器人配置界面包括安全配置、工具标定、工作坐标系标定、初始姿态设置、安装信息、力传感器配置、力传感器数据图、版本信息、IO设置。

![](ac7b4c031ae0b77936d42a344dc16aa9.png)

**图8-154 机器人配置**

**8.4.2.1安全配置**

安全配置界面主要对机器人的关节、末端TCP速度限制和防碰撞参数进行配置。如下图所示：

![](ce19053b6900035c06ed0b9d764d9373.png)

**图8-155安全配置界面示意图**

**1.关节配置**

在上方选项卡选择关节1\~6，分别对应机器人从下到上的六个关节。示教器与机器人建立连接后，关节的最大速度、加速度、最小限位和最大限位信息会自动显示在对应位置。

**注意：**睿尔曼机械臂在出厂前所有参数都已经配置到最佳状态，一般不建议用户修改关节的底层参数。若用户确需修改，首先应使机械臂处于非使能状态，然后再发送修改参数指令，参数设置成功后，发送关节恢复使能指令。需要注意的是，关节恢复使能时，用户需要保证关节处于静止状态，以免上使能过程中关节发生定位报错。关节正常上使能后，用户方可控制关节运动。更改时，设置的关节最大加速度与最大转速的比值需要≥1.5倍，否则可能出现运动异常。

![](77a1cae3ba65e3a801d2a8f0091a2b2e.png)

**图8-156 关节配置示意图**

速度：关节的最大转速，单位°/s，最大值为180°/s。12关节最大180°/s，其他关节最大225°/s。

加速度：关节的最大加速度，单位°/s\^2，最大值为600°/s\^2。出厂默认值600°/s\^2，是各方面综合状态最好的数据，不建议用户更改。

最小限位：关节的达到的最小位置，单位：度。

最大限位：关节的达到的最大位置，单位：度。

使能：上使能按钮和掉使能按钮分别给指定关节发送上使能和掉使能指令。

**上使能示例：**

给关节1上使能（同理可给其它关节上使能）

1.在最左面的选项中选择关节1

2.若报错信息显示关节有其他错误，首先点击“清除错误”按钮清除错误

3.点击右侧的“上使能”按钮

![](b6986859fdb4bf9615fa9bf95c15c3f6.png)

**图8-157 关节上使能示意图**

设置零位：关节在掉使能状态下，点击![](f52722c526fc79d24a2a50e9d0a641b8.png)按钮后，将指定关节当前位置设置为零位，设置完成后该关节仍处于掉使能状态。单击![](3db7d02cd5b840d56cc71c5c1a5ed78c.png)按钮，重新给该关节上使能，才可以控制关节运动。

机器人每个关节都有一个机械原点位置（如下图所示），零位姿态即为各关节均在机器人原点位置时的位姿。当机器人在零位姿态时，机械原点位置标记不对齐，则需要手动将机器人设置回机械原点位置。零位姿态时，机器人的状态如下图所示：

![](e2a24a5458d4565861220d2cfbfa1106.jpeg)

**图8-158 机器人零位姿态**

当更换机器人关节后，必须重新设置对应关节的零位。

**设置零位示例**：

**注：并非所有机器人均支持该功能，设定前先与睿尔曼智能科技（北京）有限公司确认。**

设置关节1的零位（同理可设置其它关节的零位）。

1.在最左面的选项中选择关节1。

2.点击右侧的“掉使能”按钮（如果关节处于上使能状态），先让关节掉使能。

![](de1d11b2658831547410033ad0185e32.png)

**图8-159 设置关节掉使能**

3.将关节1旋转到机械原点位置（关节缝隙两侧的凹槽完全对应，为机械原点位置）

![](088bc43095165aa23935906ff848604a.jpeg)

**图8-160机器人关节零位标识**

4.点击最右侧的“设零位”按钮，完成关节1的零位设置

5.上使能

![](20dbe194340c8174cc751530da23b76e.png)

**图8-161 设置关节上使能**

**打包姿态示例：**

机器人使用完成后，需要重新装箱时。在控制器内部已经保存机器人装箱姿态，长按![](bd461b6a285844a4ce782b07cb4e31c1.png)按钮，机器人自动运动至装箱姿态，机器人停止运动时，打包姿态完成。

![](07f6019b2913a5b574dd0fe04c1e8806.png)

**图8-162 打包姿态示意图**

**2. TCP速度限制**

该部分主要对机器人末端的线速度、线加速度、角速度和角加速度进行设置。示教器与机器人控制器建立网络连接后，该部分会自动更新当前机器人的TCP参数，用户可手动修改参数并下发。

点击默认值按钮，机器人TCP参数恢复默认值。末端线速度：0.25m/s,末端加速度：1.6m/s2，末端角速度：0.6rad/s，末端角加速度：4rad/ s2。

**注意：**建议使用默认TCP速度，如需更改，设置的机械臂末端最大加速度与最大速度的比值需要≥3，否则可能出现运动异常。

**3. 碰撞防护等级**

该部分主要对机器人的碰撞等级进行设置，等级级别为0\~8，代表机器人碰撞灵敏度的级别，等级越高，对碰撞越敏感。机器人上电默认碰撞等级为0，即不对碰撞做检测。

![](bd90cbef24df6a87be4f9681fd7e46f2.png)

**图8-163 碰撞防护等级设置**

**注意：**用户在设置碰撞防护等级时，应该合理选择，等级越高，机器人检测到误碰撞的概率就越高，如无特殊需求，建议用户可将碰撞等级设置在4左右；另外，如果机器人末端改变工具和负载，需在“工具标定”时设定工具的质量和质心参数（工具标定过程参照8.4.2.2节）以匹配正确的动力学模型。

![](ab521e7ee6f51e5e3bf9d8a956220fa1.png)

**图8-164 末端负载参数设置**

**8.4.2.2 工具标定**

工具坐标系标定如下图所示，区域1为显示当前所有工具坐标系及工具位姿信息，区域2为自动标定当前工具坐标系，区域3为手动设置工具坐标系信息。

![](6512ea7aa816513c6f066773aad9855d.png)

**图8-165 工具标定界面示意图**

**1. 工具显示**

表格内显示的为当前机器人已经建立的所有工具坐标系名称及位姿参数。如果要删除某一工具，在表格中选中后，点删除工具按钮即可。删除完成后，机器人进入末端法兰坐标系工作。另外，Arm_Tip（机器人末端工具坐标系）不可删除。

**2. 自动标定工具坐标系**

选中该部分后，即可通过六点法标定当前工具坐标系，首先填写工具名称（英文字符，不可超过10个字符）后，将机器人工具分别以6个姿态接触工具参考点（该参考点要求末端尖锐，并且竖直向上放置于机器人工作范围内）。

标定完成6个点之后，点击**“添加工具”**根据6个标定点自动计算当前工具信息，计算完成后回传给示教器，在工具表格中显示。另外，由于机器人控制器容量有限，只能保存10个工具坐标系，因此在标定前请确认不会超过限制。

6点法标定规则如下所示。

**表9六点法标定内容（前四个点要求姿态差距尽量大，禁止找相同点）**

| 序号 | 名称                                                                                                                             |
|------|----------------------------------------------------------------------------------------------------------------------------------|
| 1    | 任意姿态，工具末端与参考末端接触  ![](5436cafe7fd812e3a5c90213fe8d97dc.png)                                                      |
| 2    | 任意姿态，工具末端与参考末端接触 ![](bebd4d2508a66007bfe6b71f782e5e6a.png)                                                       |
| 3    | 任意姿态，工具末端与参考末端接触 ![](9dd0625ed7a87a578e79afb717f66312.png)                                                       |
| 4    | 工具末端竖直向下，并与参考末端接触 ![](b5d30970bee9bdb4b25e9bb803ed1be4.png)                                                     |
| 5    | 保持4的姿态，从点4沿工具坐标系X轴负方向移动到某一位置，该位置与点4的距离尽可能大于10cm ![](8fd9dcb369381b48e0a6db29b60c4f68.png) |
| 6    | 保持4的姿态，从点4沿工具坐标系Z轴正方向移动到某一位置，该位置与点4的距离尽可能大于10cm ![](9d253039aa958c6f3b1f6e5333b797e2.png) |

**注意：前4个点的姿态差距应尽可能大，不要找相同的点。**

**3. 手动设置工具**

当用户知道工具相对于机器人末端法兰中心的准确的相对位姿后，可通过手动输入信息，直接设置工具坐标系。选中该部分后，输入新建工具名称和位姿信息，点击添加工具按钮，即可将新建工具信息发送给机器人控制器，并在工具表格中显示。标定成功后，机器人进入末端法兰中心工具坐标系工作。

**4. 末端负载**

工具标定之后，我们需要输入末端工具的质量及重心位置，使机器人末端工具参数更加完善。

![](3e3c64555a7815e6f802ce9ae1651549.png)

**图8-166 设定末端负载**

**8.4.2.3 工作坐标系标定**

工作坐标系标定如下图所示，区域1为显示当前所有工作坐标系名称及工作坐标系相对基坐标系位姿，区域2为自动标定当前工作坐标系，区域3为手动设置工作坐标系信息。

![](b5bdba24b77f94182c2d7a6256837654.png)

**图8-167 工作标定界面示意图**

**1.工作坐标系显示**

表格内显示的为当前机器人已经建立的所有工作坐标系名称及位姿参数。如果要删除某一坐标系，在表格中选中后，点**“删除坐标系”**按钮即可。删除完成后，机器人进入基坐标系工作。另外，World（世界坐标系）以及Base（基坐标系）不可删除。

**2. 自动标定工作坐标系**

选中该部分后，即可通过三点法标定当前工作坐标系，首先填写工作坐标系名称（英文字符，不可超过10个字符）后，将机器人工具末端分别以固定姿态接触工作坐标系的原点、X轴正方向上任一点（与原点距离尽可能大于10cm）和Y轴正方向上任一点（与原点距离尽可能大于10cm）。

| 序号 | 名称                                                                                                |
|------|-----------------------------------------------------------------------------------------------------|
| 1    | 将机器人工具未端以固定姿态接触工作坐标系的原点 ![](54e33725e0a6ab0f356183a7529a62df.png)            |
| 2    | 接触工作坐标系X轴正方向上任一点,与原点距离尽可能大于10cm ![](fec823d1fb4849739dfdfbf0707f9827.png)  |
| 3    | 接触工作坐标系Y轴正方向上任一点与原点距离尽可能大于10cm ![](b7beb9013c704a814cbe30e074df33cc.png)   |

标定完成3个点之后，点击**“添加坐标系”**，系统根据3个标定点自动计算当前坐标系信息，计算完成后回传给示教器，在坐标系表格中显示。另外，由于机器人控制器容量有限，只能保存10个工作坐标系，因此在标定前请确认数量不会超过限制。完成标定后，机器人进入基坐标系工作。

**3. 手动设置工作坐标系**

当用户知道坐标系相对于机器人基坐标系的准确的相对位姿后，可通过手动输入信息，直接设置工作坐标系。选中该部分后，输入新建坐标系名称和位姿信息，点击**“添加坐标系”**按钮，即可将新建坐标系信息发送给机器人控制器，并在坐标系表格中显示。

**8.4.2.4 初始姿态设置**

机器人可设置初始姿态，方便用户控制机器人快速到达该位姿。如下图，区域1显示目前机器人建立的初始位姿关节角度；区域2为用户手动设置虚拟机械臂，将6个关节的角度设定好后，点击设置按钮，即可将设定好的位姿关节角度发送给机器人保存，设置成功后在区域1中显示；区域3为自动设置，将机器人6个关节的当前角度设置为初始位姿关节角度，设置成功后在区域1中显示。

![](7072139301ddb0fd91b92ccd03e8c296.png)

**图8-168 机器人初始姿态设置**

**8.4.2.5 安装信息**

机器人安装信息指安装角度设定。在该界面的模型窗口可实时查看设定的安装角度是否与需求角度一致。区域1可快速设定常用安装方向，包括正装、侧装以及倒装。区域2为通过调节X轴、Y轴和Z轴角度进行安装角度设定。设置完成后，单击“确定”按钮进行保存。

![](103e88ea038c0c77eddf7e4571aea84f.png)

**图8-169 安装信息设置**

**8.4.2.6 六维力传感器配置**

六维力传感器参数说明见下表

| **六维力传感器** |                                               |
|------------------|-----------------------------------------------|
| 额定载荷         | X：200N Y：200N Z:200N MX：7Nm MY：7Nm MZ:7Nm |

**注意：六维力量程200N/7NM，如果末端受到600N以上的力或者21NM以上的力矩，会对传感器造成不可逆损坏。机械臂在运行过程中，避免传感器与外部设备发生硬碰撞，造成损伤。**

力传感器配置界面，六维力重心计算传感器标定。

![](4205ffe33e5fb2c9529a27d8c75946e1.png)

**图8-170 力传感器配置**

**1.力传感器标定**

①六维力标定

六维力标定只有在末端工具发生更换后，才需要进行重新进行六维力重心计算。标定过程可通过控制器预存的轨迹路径进行自动标定，为避免预存轨迹在运行过程中与外部设备发生干涉，用户也可以根据实际场景进行手动标定。

![](183ed6406b4f6121af463f051665b76f.png)

**图8-171 六维力自动标定**

自动标定过程，点击![](5ad4da7bd366b351f0e37ee59bee94f5.png)按钮，将提示标定状态提示，如下图所示。

![](ba26f3ccdcc2eb037bacb514f0ea2d0f.png)

**图8-172 状态确认提示**

机器人会自动运行4种已经设定的姿态位置，进行重心计算。若运动过程中有机器人碰撞危险，需点击![](2f5aa0f9dd8d3e8a5496c079e53af34a.png)按钮进行终止运行。

六维力重心标定成功后，将弹出“标定成功”提示，重心标定完成。

![](6d3c32f0c99d22e04bd3966c756953d0.png)

**图8-173 六维力重心标定完成**

手动标定过程，勾选**手动设置**选框，通过机械臂示教界面分别设置4个位姿差距尽量大的点位，待4个点位记录完成后，点击![](ed3c2047db803cc22f7acbc6d8021ea8.png)按钮。

![](6f02fd6d78f2784da0b1d703d7dcefa7.png)

**图8-174 六维力手动标定**

机器人自动进行六维力重心计算，待弹出“传感器重心标定成功”提示，重心标定完成。

![](6d3c32f0c99d22e04bd3966c756953d0.png)

**图8-175 六维力重心标定完成**

②一维力标定

一维力传感器标定与六维力传感器标定方法类似，也分为自动标定和手动标定两种方式。

![](3b7d688d187598ca2e5cd8c83aa858f9.png)

**图8-176 一维力自动标定**

自动标定过程，点击![](5ad4da7bd366b351f0e37ee59bee94f5.png)按钮，将提示标定状态确认提示，如下图所示。

![](ba26f3ccdcc2eb037bacb514f0ea2d0f.png)

**图8-177 状态确认提示**

机器人会自动运行2种已经设定的姿态位置，进行重心计算。若运动过程中有机器人碰撞危险，需点击![](2f5aa0f9dd8d3e8a5496c079e53af34a.png)按钮进行终止运行。

一维力重心标定成功后，将弹出“传感器重心标定成功”提示，重心标定完成。

![](6d3c32f0c99d22e04bd3966c756953d0.png)

**图8-178 一维力重心标定完成**

手动标定过程，勾选**手动设置**选框，通过机械臂示教界面分别设置2个位姿差距尽量大的点位，待2个点位记录完成后，点击![](ed3c2047db803cc22f7acbc6d8021ea8.png)按钮。

![](dc56a1e381de0fdcfbc8e6a82a1e885a.png)

**图8-179 一维力手动标定**

机器人自动进行一维力重心计算，待弹出“标定成功”提示，重心标定完成。

![](6d3c32f0c99d22e04bd3966c756953d0.png)

**图8-180 一维力重心标定完成**

**注意：在机器人进行力传感器标定时，机器人周围需要具有充足运动空间，以免机器人与外物发生碰撞；其次，在整个标定过程中，不得以外力作用于机器人和传感器，以免数据有误。**

**8.4.2.7 力传感器数据图**

根据机器人型号力传感器可分别实时记录机器人末端六维力数据，如下图所示为六维力数据图：

![sda](b07ff9fdd57f2c0a9a55e7fa6638cc2f.jpeg)

**图8-181 力传感器数据图**

**  
**

**8.4.2.8 版本信息**

连接机器人后，版本信息界面可以查看控制器软件版本号、机械臂型号、后端版本、Web版本、关节软件版本号和末端接口板版本号。

![](2126b4455ad67139aa704d9a0de03bb7.png)

**图8-182 版本信息界面**

**8.4.2.9 IO设置**

IO设置分别可设置控制器IO配置和工具IO进行配置，如下图所示：

![](02c9699f56f061539a1e8327b45dbc55.png)

**图8-183 IO设置界面**

1.  控制器IO设置：

    在示教器的IO配置界面可显示控制器IO的状态和对控制器IO进行配置，如下图所示：

    ![](3d0b18e89133e8afe0ba17eb1b29b2e8.png)

    **图8-184 控制器IO设置界面**

控制器电源输出:该部分可配置控制器对外的输出电源，可配置为0V,5V,12V和24V。

数字输入/输出:该部分显示数字IO的状态，用户根据实际需要设定为输入模式，输出模式、输入开始功能复用模式，输入暂停功能复用模式，输入继续功能复用模式，输入急停功能复用模式。设定为输入接口时，灰色圆圈代表低电平，绿色圆圈代表高电平。设定为输出接口时，按下按钮颜色变为绿色，对应通道设置输出状态为高；按钮弹起变为灰色，代表对应通道输出为低。

1.  工具IO配置

在示教器的工具IO界面可显示工具IO的状态和对IO进行配置如下图所示：

![](d6ce66c931b8e844411874cb9331f39e.png)

**图8-185 工具IO设置界面**

数字输入/输出:该部分显示的数字IO的状态，灰色圆圈代表低电平，绿色圆圈代表高电平，用户根据实际需要设定为输入或输出接口。

**8.4.2.10 电子围栏**

![](04a319dcac6b44ee10d14daf456a42dd.png)

**图8-186**

电子围栏包括，围栏形状、选择围栏参数、围栏参数、预警位置、作用部位、更新参数开启等。

1.围栏形状默认为长方形三维视图显示当前电子围栏三维形态，并通过颜色进行区分，（灰色未生效、绿色生效、红色撞墙报错），

2.电子围栏设置时可以选择已保存围栏（最多保存10个电子围栏）。可以选择手动输入，围栏参数中包括X.Y.Z.三个方向的最大值最小值 ，也可以选择在页面右上方使用鼠标拖动设置位置位置单位为（M）

3.支持设置和使能，重启依然有效。

预警位置默认为墙内，作用位置默认整臂

注：电子围栏目前只可在仿真模式下进行运动指令操作。

**8.5 系统信息**

系统信息包括控制器状态和关节状态，以及系统日志，报错信息等。

系统信息：包括控制器的输入电压、输出电流、温度、位姿和错误代码。

机器人信息：包括6个关节的电压、电流、温度、使能状态和错误代码。当关节错误排除后，需要点击清除按钮清除错误代码后，才可给关节上使能控制关节运动。

系统日志：包含示教器的所有操作指令和机器人、控制器的错误类型，并带有时间戳在文本框内显示。点击![](0f1d1c787345b9fa7b6a016f6c5e5b22.png)可将当前日志信息保存到本地。点击![](984d7258b6bcccb5f6a105823aac6a5e.png)可下载机械臂全部日志到本地，支持所有程序的完整日志下载。点击![](4bce852230464ba3e80dd537461c0fb8.png)会清空所有显示的系统日志。

![](d30a47f9f1cb42e92d831cc3573e6082.png)

**图8-187 系统信息示意图**

**8.6 扩展**

在示教器的扩展界面可对末端工具进行配置和拖动示教的设置如下图所示：

![](66c24997140e24ab2cc38e0044b8b530.png)

**图8-188 扩展界面示意图**

**8.6.1 末端控制**

**8.6.1.1 末端工具**

在示教器的扩展界面可对末端工具进行配置，并可切换工具端对外的输出电压，对末端手爪进行简单的控制，如下图所示：

![](9880f3d5cb6c633b502fc0e78bfb3095.png)

**图8-189 末端工具控制界面**

电源输出：该部分可配置末端接口板对外的输出电源，可配置为0V,5V,12V和24V。

外接设备：目前工具端默认加定制手爪和灵巧手，后续可增加其它设备。夹爪控制，松开和闭合按钮分别控制手爪的张开和闭合；灵巧手控制，可通过设置灵巧手的手势序号和序列序号，来设置手势和动作序列。

**8.6.1.2 拖动示教**

除了通过机器人示教界面记录点位，运行轨迹之外，机器人还支持拖动示教功能，我们可以直接按住机器人末端的绿色按钮进行轨迹记录，完成动作后，松开绿色按钮。也可以在示教器上点击![](435d12e8efeb6cf6ed5b1a67a2f21f23.png)按钮，然后拖动机器人。完成后再次点击![](8d09b139d8b1070cbf3cbefd3b3e1edb.png)，完成轨迹记录，弹出保存窗口，可根据需求来选择是否保存轨迹文件。

轨迹记录完成后，点击机器人末端的蓝色按钮，可对轨迹进行复现。

![](753730ad01af88869309aef62ed1789b.png)

**图8-190 拖动轨迹保存**

拖动示教包括：电流环、只动位置、只动姿态、位姿结合四种方式。

![](bb493912561a5ccbf6e4cf79bc1fab89.png)

**图8-191 拖动示教方式**

**注意：只动位置、只动姿态、位姿结合三种方式需配合六维力传感器使用，否则将出现错误提示。**

![](4a4e78371db65dffcacd4ee672af84f5.png)

**图8-192拖动示教错误**

当机器人末端工具为我公司标配的两指手爪时，在拖动示教过程中，除了可记录机器人运动轨迹之外，还可以记录手爪动作。长按绿色按钮拖动示教的同时，长按蓝色按钮，手爪关闭；短按蓝色按钮，手爪打开。

### 8.6.2 升降机控制、拓展关节控制

在示教器的扩展界面可对升降机控制进行参数配置如下图所示：

![](34f4bcf63463ab31fdbee0857453147f.png)

**图8-193 升降机控制**

可对当前高度进行上升或下降，也可以设置目标高度后点击“运动”按钮使升降机到达目标高度。如下图所示：

![](4f6ef05573700ab8107a26c568ba605d.png)

**图8-194 升降机参数设置**

在示教器的扩展界面可对拓展关节进行控制参数配置如下图所示：

![5d3a7db53f0b2262ce3ddabdec45f52](315d004752ed75d5871a6b16b62c58b2.png)

**图8-195 升降机参数设置**

在连接拓展关节后会显示当前速度、加速度、电流、最大最小限位、减速比系数。为了防止关节在连接上后有错误，请在连接后先清除关节错误，再点击上使能。拓展关节可向正向运动或者反向运动。可设置目标角度运动，在下方可调节拓展关节运动速度。

**9.在线编程程序示例**

1.  点击“在线编程”按钮，进入选项。再次点击图形化编程，右侧回显示“基础、运动、高级”共3种类型的命令栏。

    ![](1fdff505db9df006a0ce28abb48ef263.png)

**图9-1 图形化编程**

1.  图形化编程界面可进行拖拽编程操作。

    ![](a1f0582abb73f1bbf14815eac5028035.png)

**图9-2 编程模块**

1.  在基础指令界面将“当程序开始运行”模块拖拽至多点组成的网格界面。注意：所有的程序模块均需组合放置在“**当程序开始运行**”图块内。

    ![](116386c2716873402cbb40da98dd5ac5.png)

**图9-3 初始模块**

1.  ①单击打开运动指令列表，拖拽“移动”条状图块至编程界面。②拖拽“路点”条状图块至“移动”图块正后方，并确保2个图块卡槽相组合。

    ![](a595134abc5248af1ef41754438c0ff1.png)

**图9-4 添加移动指令**

1.  “移动”图块中需要根据实际运行需要进行设置运动类型、工作坐标系、工具坐标系、运行速度共4项参数。

    ![](fe7d22138a1e812c5fae801dbf7aba30.png)

**图9-5 移动指令**

1.  “路点”图块中需要设置路点、交融半径共2项参数。

    ![](69cdf2a52515e9b1e923d36ad47a8280.png)

**图9-6 路点指令**

1.  添加机械臂运动点位

    ①打开示教器界面，左侧菜单栏中点击“在线编程”按钮，进入“数据管理”，进行添加点位的操作。具体操作，如下图所示

![](ec4c0927314cd1f67bf306e921236d99.png)**图9-7 添加路点**

②进入点位编辑界面，根据实际需要选择单轴控制或多轴控制，编辑完成相应点位后，点击机械臂仿真界面的确定按钮保存点位，如下图所示

![](6a6ec8e1ccbfd9c7eac64780707dda9b.png)

**图9-8 添加路点**

③点击确定按钮之后会弹出提示框，需输入点位名称进行点位保存。此处名称可为中文/英文/数字及其组合。保存完成后的点位可在“点位管理”界面查看与编辑。在示例中设置了2个点位，分别为：p1、p2。

![](b0bdb790d968d7f568a7a239fcf8ea40.png)**图9-9 添加路点**

![](15954b0fd2673fbd3d2ef32b6f0e21a0.png)

**图9-10 添加路点**

1.  机械臂运动点位设置完毕之后，在图形化编程界面将点位应用至程序中。

    ![](3498f6302dc19ceb6837d4c184d05c0e.png)

    **图9-11 运动编程**

2.  至此，1个基于Move_J运动类型，运动速度为百分百的运动示例程序已编写完成。

**运行程序示例**

1.  若要运行编辑好的程序，点击“开始”按钮，轨迹将自动运行。

2.  按“暂停”按钮，运动将在轨迹方向暂停，暂停后可按“继续”按钮继续运动。

3.  按“单步”按钮，将进行单步运动。

4.  按“停止”按钮，运动停止。为防止意外发生，轨迹运行结束后，需手动点击“停止”按钮，各功能键才能继续发挥作用。

![](0729f5f6b8a72e8af45378772431450a.png)

**图9-12 运行程序**

**注意：并不是所有点机器人都能到达，如果取的点提示无法到达，请重新取点。**

**10.机械臂系统升级**

机器人控制器的系统程序可在示教器中“配置--\>机械臂配置--\>版本信息”页面进行升级（升级前请确认是否可以升级对应版本，否则可能发生严重问题），具体操作步骤如下：

1.  将厂家提供的.realman后缀的文件下载到本地；

2.  点击![](7e451571a937bc75bb07dcf550316867.png)按钮，在弹出的窗口中找到并选择上一步保存的文件。选择成功后文件名会显示在按钮下方（如图10-1所示）；

![](575d6c2ad855bdb3b33342f0e98fa297.png)

**图10-1 选择文件**

1.  点击![](d76d2384ce16628d7b9731f623270bff.png)按钮，页面弹出升级进度条提示，等待升级成功（文件较大时升级时间可能需要4-5min，请耐心等待）；

![](3edf2a6a38764a5dce20095dddb1474d.png)

**图10-2 升级进度**

1.  升级成功后，示教器页面会弹窗提示，控制器会发出连续提示音，此时重启控制器，机器人即可正常工作。

![](3603b0930fff345d1a1412d945bd09fe.png)

**图10-3 升级成功提示**

1.  更新控制器程序注意事项：机器人更新程序结束之后，需重启机械臂并且打开WEB示教器，进入到示教器首页之后按下Ctrl+F5进行浏览器强制刷新，清理缓存。此时更新完毕的机械臂及WEB示教器即可正常使用。

**11.MODBUS-TCP介绍**

RM65 I系列机械臂可以通过MODBUS-TCP协议可以直接调用WEB示教器保存的编程文件，也可直接控制或者查询机械臂状态。

**11.1 调用在线编程文件**

（1）使用modbus-TCP协议，可以调用保存在数据管理里面已经编写好的点位。调用时在modbus-TCP设置页面，选择（写入模式）中（保持寄存器）按照以下方式进行操作便可调用。

![](8efa413faf69c663da9a14eb120e87ef.png)

![](c5d2f066a7fd8ef6cb55392c38eea023.png)

**图11.1**

**11.2 控制机械臂**

（1）使用modbus-TCP协议，同样可以在对应寄存器内写入角度、位置、姿态，控制机械臂移动，具体地址参考下图。具体用例可以联系技术支持或关注官网论坛获取。

![](64b957bf0b5c0a744a372b3862718143.png)

**保持寄存器指令集**

**11.3 获取机械臂当前状态**

用户选择查询模式、输入寄存器进行查询机械臂当前数据。

![](55ca40c79bc2aa45c183e01ec187150e.png)

**图11.2.1**

![](1867427ec9f03dda7a46f4c930c99391.png)

![](24b79f20a4f81fc6f96940c539165a50.png)

**输入寄存器指令集**

## 11.4 IO线圈输出查询写入-离散量输入

线圈输出可根据在地址栏中填写对应的指令，来获取或者操作IO模式的输出或者输出。离散量输入可以通过指令来读取当前机械臂状态。

![](b77acf1555e5f5ee946312a2a65c5fe9.png)

**图11.2.2**

![](24ba230d74cc905415f02588819b5150.png)

![](553e4d97a9969e9731fb02e792295db6.png)

**IO查询写入指令集**

**12.外部接口设置**

外部接口设置在配置、机械臂配置、外部接口设置。内容分别为IO设置、控制器端口、末端接口板端口。同时控制器端口、末端接口板端口内置modbus-RTU 功能可以通过左侧选择栏完成对RS485以及modBus-RTU的一系列设置。已设置的模式会自动获取，并回显到页面中。在modbus-RTU模式下，选择模式后可以在右侧查看实时数据

**12.1 IO设置**

控制器IO配置，包括控制器电源输出、数字输出/输入。工具IO配置，包括数字输入/输出。

![](13b64375b201be84e227b87508cba23d.png)

**图12.1**

**12.1.1 控制器电源输出**

在点击框内0V 时会出现0V、12V、24V，三个选项。对应三个电压输出提供使用。

![](17d3808ace4a596a2f6b3ce87241aae3.png)

**图12.2**

**12.1.2 数字输出/输入**

里面包括了4个相同的模块在点击后会弹出输入、输出、输入开始功能复用模式、输入暂停功能复用模式、输入继续功能复用模式、输入急停功能复用模式、输入进入电流环拖动复用模式，等相应功能。

![6d3944b1a9b130fd096d2790df0db97](6413266255fd43fee81cd5db550951da.png)**图12.3**

**12.1.3工具IO配置**

里面包含数字输出/输入，有两个相同的模块再点击后会弹出输出和输入两个选项以供使用。![](c0248ea24b712d8a7aeac40b2bc7f843.png)

**图12.4**

**12.2 modbusRTU设置**

在功能中分为控制器端口和末端接口板端口 用户可以通过选择栏对应的功能完成对modBus-RTU的一系列设置。在modbus-RTU模式下，选择模式后可以在下方查看实时数据。![](aa71cf05c9f138a1624da1334f98f98b.png)

**图12.5**

**12.2.1控制器端口、末端接口板端口**

控制器端口和末端接口板端口页面内容均涵盖有模式选择、波特率、超时时间、查询模式、开始地址、外设设备地址、读取线圈数量、设置、关闭、查询等操作。![](bb5e6d885f44b75034314137357bcc47.png)

**图12.6**

点击页面控制器端口/末端接口板端口时，查询按钮时查询模式会切换到写入模式。其中查询按钮变成写入按钮、查询模式、读取线圈数量、会变成写入模式和写入线圈数量，写入数据操作对比图如下。![](b808add03c0cf1783097b44440e47144.png)![](11853cca510be8c5da03f39ac16f88c5.png)

**图12.7**

**13.技术规格**

**13.1 RM65**

| 机器人型号         | RM65-B                                                                     | RM65-6F  |
|--------------------|----------------------------------------------------------------------------|----------|
| 自由度             | 6                                                                          |          |
| 额定负载           | 5kg                                                                        |          |
| 峰值负载（全臂展） | 7kg                                                                        |          |
| 本体重量           | 7.2kg                                                                      | 7.3kg    |
| 重复定位精度       | ±0.05mm                                                                    |          |
| 工作半径           | 610mm                                                                      | 638.5mm  |
| 六维力量程         | 无                                                                         | 200N/7Nm |
| 六维力精度         | 无                                                                         | \<0.1%FS |
| 供电电压           | DC 24V（范围：建议工作电压范围20\~27V，极限电压30V）                       |          |
| 最大功耗           | ≤200W                                                                      |          |
| 综合功耗           | ≤100W                                                                      |          |
| 材质               | 铝合金                                                                     |          |
| 控制器             | 集成                                                                       |          |
| 通讯方式           | WIFI/网口/USB/RS485                                                        |          |
| 控制方式           | 拖拽示教/示教器/API/JSON/ROS/ModBus-TCP                                    |          |
| 防护等级           | IP 54                                                                      |          |
| I/O电源            | 12V/24V                                                                    |          |
| 数字I/O端口        | 4路可复用数字IO                                                            |          |
| 关节速度           | 关节1\~2：180°/s，关节3\~6：225°/s                                         |          |
| 关节活动范围       | 关节1,关节4：±178°，关节2：±130°，关节3：±135°，关节5：±128°，关节6：±360° |          |

**13.2 RM75**

| 机器人型号         | RM75-B                                                                            | RM75-6F  |
|--------------------|-----------------------------------------------------------------------------------|----------|
| 自由度             | 7                                                                                 |          |
| 额定负载           | 5kg                                                                               |          |
| 峰值负载（全臂展） | 7kg                                                                               |          |
| 本体重量           | 7.8kg                                                                             | 7.9kg    |
| 重复定位精度       | ±0.05mm                                                                           |          |
| 工作半径           | 610mm                                                                             | 638.5mm  |
| 六维力量程         | 无                                                                                | 200N/7Nm |
| 六维力精度         | 无                                                                                | \<0.1%FS |
| 供电电压           | DC 24V（范围：建议工作电压范围20\~27V，极限电压30V）                              |          |
| 最大功耗           | ≤200W                                                                             |          |
| 综合功耗           | ≤100W                                                                             |          |
| 材质               | 铝合金                                                                            |          |
| 控制器             | 集成                                                                              |          |
| 通讯方式           | WIFI/网口/USB/RS485                                                               |          |
| 控制方式           | 拖拽示教/示教器/API/JSON/ROS/ModBus-TCP                                           |          |
| 防护等级           | IP 54(机械臂本体)                                                                 |          |
| I/O电源            | 12V/24V                                                                           |          |
| 数字I/O端口        | 4路可复用数字IO                                                                   |          |
| 关节速度           | 关节1\~2：180°/s，关节3\~7：225°/s                                                |          |
| 关节活动范围       | 关节1,关节3、关节5：±178°，关节2：±130°，关节4：±135°，关节6：±128°，关节7：±360° |          |

**13.3 RML63**

| 机器人型号         | RML63-B                                              | RML63-6F |
|--------------------|------------------------------------------------------|----------|
| 自由度             | 6                                                    |          |
| 有效负载           | 3kg                                                  |          |
| 峰值负载（全臂展） | 4kg                                                  |          |
| 本体重量           | 10.2kg                                               | 10.3kg   |
| 重复定位精度       | ±0.05mm                                              |          |
| 工作半径           | 900mm                                                | 928.5mm  |
| 六维力量程         | 无                                                   | 200N/7Nm |
| 六维力精度         | 无                                                   | \<0.1%FS |
| 供电电压           | DC 24V（范围：建议工作电压范围20\~27V，极限电压30V） |          |
| 最大功耗           | ≤200W                                                |          |
| 综合功耗           | ≤100W                                                |          |
| 材质               | 铝合金                                               |          |
| 控制器             | 集成                                                 |          |
| 通讯方式           | WIFI/网口/USB/RS485                                  |          |
| 控制方式           | 拖拽示教/示教器/API/JSON/ROS/ModBus-TCP              |          |
| 防护等级           | IP 54(机械臂本体)                                    |          |
| I/O电源            | 12V/24V                                              |          |
| 数字I/O端口        | 4路可复用数字IO                                      |          |
| 关节速度           | 关节1\~2：180°/s，关节3\~6：225°/s                   |          |
| 关节活动范围       | 关节1,2,4,5：±178°，关节3：-178°\~ +145°关节6：±360° |          |

**13.4 ECO65**

| 机器人型号         | ECO65                                                                                              | ECO65-6F |
|--------------------|----------------------------------------------------------------------------------------------------|----------|
| 自由度             | 6                                                                                                  |          |
| 额定负载           | 5kg                                                                                                |          |
| 峰值负载（全臂展） | 7kg                                                                                                |          |
| 本体重量           | 7.8kg                                                                                              | 7.9kg    |
| 重复定位精度       | ±0.05mm                                                                                            |          |
| 工作半径           | 610mm                                                                                              | 638.5mm  |
| 六维力量程         | 无                                                                                                 | 200N/7Nm |
| 六维力精度         | 无                                                                                                 | \<0.1%FS |
| 供电电压           | DC 24V（范围：建议工作电压范围20\~27V，极限电压30V）                                               |          |
| 最大功耗           | ≤200W                                                                                              |          |
| 综合功耗           | ≤100W                                                                                              |          |
| 材质               | 铝合金+ABS                                                                                         |          |
| 控制器             | 集成                                                                                               |          |
| 通讯方式           | WIFI/网口/USB/RS485                                                                                |          |
| 控制方式           | 拖拽示教/示教器/API/JSON/ROS/ModBus-TCP                                                            |          |
| 防护等级           | IP 54(机械臂本体)                                                                                  |          |
| I/O电源            | 12V/24V                                                                                            |          |
| 数字I/O端口        | 4路可复用数字IO                                                                                    |          |
| 关节速度           | 关节1\~2：180°/s，关节3\~6：225°/s                                                                 |          |
| 关节活动范围       | 关节1：±178°，关节2：-178°\~ +135°，关节3：-160°\~ +145°，关节4：±178°，关节5：±178°，关节6：±360° |          |

### 13.5 Gen72

| 机械臂型号        | Gen72-B                                                                                               |
|-------------------|-------------------------------------------------------------------------------------------------------|
| 最大工作半径      | 600                                                                                                   |
| 额定负载(kg)      | 2kg                                                                                                   |
| 重复定位精度(mm)  | 1mm                                                                                                   |
| 含控制器自重(kg)  | 6.6kg                                                                                                 |
| 自由度            | 7                                                                                                     |
| 材质              | 铝合金+ABS                                                                                            |
| IO电源            | 12V/24V                                                                                               |
| 综合功耗          | ≤100W                                                                                                 |
| 最大功耗          | ≤200W                                                                                                 |
| 末端IO            | 复用2路DI/DO:RS485                                                                                    |
| 控制器            | 集成内置控制器                                                                                        |
| 控制方式          | 拖拽示教、示教器、API、JSON、ModBus-TCP                                                               |
| 工作电压(v)       | 24V                                                                                                   |
| 通讯接口          | WIFI/网口/USB/RS485                                                                                   |
| 关节最大速度(°/s) | J1-J4:180°/s: J5-J7:225°/s                                                                            |
| 关节转动范围      | J1:-172°\~172° J2:-105°\~105° J3:-172°\~172° J4:-170°\~55° J5:-172°\~172° J6:-90\~120° J7:-172°\~172° |

**  
**

**14.选配功能**

**14.1手柄控制机械臂**

![3a2a275770282f618865acb3a3e7427f](d89d17f3d0a481e65a51750453cd5075.png)

**图14-1 示意图**

**14.1.1手柄简介**

手柄采用2.4G技术进行无线通信，配备1个接收器。手柄遥控距离可达15米（此距离与使用环境有关）。其上共有15个按键及2个摇杆。

![图片1](af5b27eb960179796f49634db28a8bc3.png)

**图14-2 手柄实物图**

**  
**

**14.1.2控制方法**

1.确保机械臂处于断电状态，将2.4G接收器安装于USB口1。如图14-3所示。

![微信图片_20230131102237](ed523069afbd046f69af6aeeb74204b7.png)

**图14-3 手柄接收器安装示意**

2.等待机械臂开机完成，将手柄开机键拨至“ON”档。打开手柄电源，等待手柄前方信号指示灯红灯常亮时，说明连接成功。

![](5d0e18bf9764a0703ec61455478f6258.png)

**图14-4 手柄电源开关示意**

3.手柄键位及控制模式介绍

![](1af193fecd954e7a6068da556c769b81.png)

**图14-5 手柄键位示意图**

手柄控制分为位置姿态控制和单轴关节控制间切换，切换方式为点击手柄中间位置的MODE键。机械臂开机与手柄连接默认为位置姿态控制模式，按下MODE键控制模式切换为单轴关节控制模式，模式切换成功之后机械臂会根据不同的模式发出不同的声音。切换为位置姿态控制机械臂发出“滴\~”声；切换为单轴关节控制机械臂会发出“滴\~滴\~滴”声。

**位置姿态控制模式**

在进行位置姿态控制模式之前，需要通过拖拽示教或单轴关节控制模式，使机械臂处于图12.6类似，方便进行位置位姿控制。位姿图手柄左侧方向键、L1、L2键分别对应控制机械臂X+、X-、Y+、Y-、Z+、Z-方向运动。详情参考表13.1

![lQLPJx3SJaDoXqDNAifNAZCwbHcI2tyc-TsD1wm1RUB2AA_400_551](de54b02efa12fe5e69ca924fae588707.png)

**图14.6 手柄控制机械臂位置位姿前机械臂姿态**

**单轴关节控制模式**

进入单轴关节控制模式之后，手柄左侧方向键、L1、L2、右侧功能键、R1、R2分别控制各个关节正负方向运动。详情参考表13.1

手柄按键对应功能

| 手柄键位       | 使用方法  | 位置及姿态控制模式 | 单轴关节控制模式  |
|----------------|-----------|--------------------|-------------------|
| MODE键         | 短按      | 2种模式切换        |                   |
| 左侧方向键--上 | 短按/长按 | 基坐标系Y+方向移动 | 关节1沿正方向运动 |
| 左侧方向键--下 | 短按/长按 | 基坐标系Y-方向移动 | 关节1沿负方向运动 |
| 左侧方向键--左 | 短按/长按 | 基坐标系X+方向移动 | 关节2沿正方向运动 |
| 左侧方向键--下 | 短按/长按 | 基坐标系X-方向移动 | 关节2沿负方向运动 |
| 左侧L1键       | 短按/长按 | 基坐标系Z+方向移动 | 关节3沿正方向运动 |
| 左侧L2键       | 短按/长按 | 基坐标系Z-方向移动 | 关节3沿负方向运动 |
| 右侧功能键--Y  | 短按/长按 | 沿Y+方向做姿态变化 | 关节4沿正方向运动 |
| 右侧功能键--A  | 短按/长按 | 沿Y-方向做姿态变化 | 关节4沿负方向运动 |
| 右侧功能键--X  | 短按/长按 | 沿X+方向做姿态变化 | 关节5沿正方向运动 |
| 右侧功能键--B  | 短按/长按 | 沿X-方向做姿态变化 | 关节5沿负方向运动 |
| 右侧R1键       | 短按/长按 | 沿Z+方向做姿态变化 | 关节6沿正方向运动 |
| 右侧R2键       | 短按/长按 | 沿Z-方向做姿态变化 | 关节6沿负方向运动 |

**14.2 IO扩展**

**14.2.1功能介绍**

在机械臂使用过程中，根据不同的场景，机械臂的IO可能数量不够，满足不了实际使用需求的情况。在这种情况下就需要用到外部IO控制器，本文中提到的外部IO控制器可外接8个外部数字输入传感器、8个外部数字输出信号口。

机械臂底部控制器与机械臂末端均可外接IO控制器，本文以机械臂控制器接口为例，如需使用机械臂末端接口请参考机械臂协议文档或接口文档。

**14.2.2串口IO控制器的使用**

![](d5ad8f640d8ab8346be9e3163078e3fa.png)

**图14.7 串口IO控制器**

1.  设备接线接线

设备接线接线

| 机械臂末端接口        | 串口IO控制器 |
|-----------------------|--------------|
| 电源输出（粉色/棕色） | DC12-24V +   |
| 电源GND（灰色/紫色）  | DC12-24V -   |
| RS485_A（黄色线）     | RS485A       |
| RS485_B（黄绿色线）   | RS485B       |

IO控制器的供电为宽电压12\~24V，接线完成之后需设置机械臂控制器输出相对应的电压，电压的具体设置根据传感器所需供电进行设置。

串口IO控制器和16芯线

| ![f15cefa1ef0c94af8a96112923bd810](df3902345033f789a30f8e25e47d4eb9.jpeg) | ![](219b55b2919e4c994252cf5c4dc18632.png) |
|---------------------------------------------------------------------------|-------------------------------------------|
| 控制器接线：485接口及24V供电                                              | 控制器接线：线材实物连接                  |

2.机械臂开启通信及供电设置

机械臂开启末端通信及供电有多种方式，此处以JSON协议的方式进行设置。串口IO控制器相关的详细指令在本文中不做讲解，详情参考云盘中文档说明。

云盘链接：

| 链接：https://pan.baidu.com/s/1xPAf5AajKaM40CI7bHA1yw?pwd=tkcf 提取码：tkcf |
|-----------------------------------------------------------------------------|

使用socket助手通过TCP向控制器下发如下JSON协议字符串：

2.1配置通讯端口ModbusRTU模式

| {"command":"set_modbus_mode","port":0,"baudrate":9600,"timeout":20} |
|---------------------------------------------------------------------|

命令下发成功后，socket助手会收到控制器反馈内容，如下所示：

| {"command":"set_modbus_mode","set_state":true} |
|------------------------------------------------|

-   若set_state值返回true，则设置成功。

-   若set_state值返回false，则设置失败。

2.2设置电源输出（I 系列），输出电压为24V

| {"command":"set_voltage","voltage_type":3} |
|--------------------------------------------|

命令下发成功后，socket助手会收到控制器反馈内容，如下所示：

| {"command":"set_voltage","state":true} |
|----------------------------------------|

2.3写单圈数据，设置串口IO控制器继电器1号输出

| {"command":"write_single_coil","port":0,"address":1,"data":1,"device":1} |
|--------------------------------------------------------------------------|

命令下发成功后，socket助手会收到控制器反馈内容，如下所示：

| {"command":"write_single_coil","write_state":true} |
|----------------------------------------------------|

2.4写单圈数据，设置串口IO控制器继电器1号输出

| {"command":"write_single_coil","port":0,"address":1,"data":1,"device":1} |
|--------------------------------------------------------------------------|

命令下发成功后，socket助手会收到控制器反馈内容，如下所示：

| {"command":"write_single_coil","write_state":true} |
|----------------------------------------------------|

2.5写单圈数据，设置串口IO控制器继电器1号关闭输出

| {"command":"write_single_coil","port":0,"address":1,"data":0,"device":1} |
|--------------------------------------------------------------------------|

命令下发成功后，socket助手会收到控制器反馈内容，如下所示：

| {"command":"write_single_coil","write_state":true} |
|----------------------------------------------------|

2.6读离散量输入，读取0号信号

| {"command":"read_input_status","port":0,"address":0,"num":1,"device":1} |
|-------------------------------------------------------------------------|

命令下发成功后，socket助手会收到控制器反馈内容，如下所示：

| {"command":"input_status","read_state":true} |
|----------------------------------------------|

2.7 测试完成，关闭通讯端口 ModbusRTU 模式

| {"command":"close_modbus_mode","port":0} |
|------------------------------------------|

命令下发成功后，socket助手会收到控制器反馈内容，如下所示：

| {"command":"close_modbus_mode","set_state":true} |
|--------------------------------------------------|

2.8设置电源输出（I 系列），输出电压为0V

| {"command":"set_voltage","voltage_type":0} |
|--------------------------------------------|

命令下发成功后，socket助手会收到控制器反馈内容，如下所示：

| {"command":"set_voltage","state":true} |
|----------------------------------------|

**14.3 场效应管模块**

**14.3.1功能介绍**

机械臂控制器位置有4路可复用数字IO，可通过示教器或指令切换为数字输出，但默认输出电流只有2mA，如果需要控制大功率设备，如：电机、灯泡、继电器、电磁阀等，可以选配场效应管模块。

场效应管模块输出端被控功率为100W以内。

![](30530b32ee3f515ef2c336b13682cc5c.png)

**图14.8 场效应管模块**

**14.3.2场效应管模块的使用**

机械臂IO需设置为输出模式，分别连接场效应管模块的输入信号。

具体接线方法如下图所示：

![](1ca39414c6f264454d5b21ce5b0662d7.png)

**图14.9 场效应管模块接线图**

